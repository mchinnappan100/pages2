<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AD to Salesforce User Mapping</title>
    <script src="https://cdn.tailwindcss.com"></script>
     <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico" />
    <script>
        // Load saved theme before page renders
        (function() {
            if (localStorage.getItem('theme') === 'dark' || (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            }
        })();
        
        // Theme toggle functionality
        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        }
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-200">
    <div class="min-h-screen">
        <!-- Header -->
        <header class="bg-white dark:bg-gray-800 shadow-sm">
            <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Active Directory to Salesforce Mapping</h1>
                <button onclick="toggleTheme()" class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
                    <svg class="w-6 h-6 text-gray-800 dark:text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path class="dark:hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        <path class="hidden dark:block" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-6xl mx-auto px-6 py-8">
            <!-- Introduction -->
            <section class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Understanding the Integration</h2>
                <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
                    When integrating Active Directory with Salesforce, organizations need to map their existing AD users and groups to Salesforce's permission model. This involves understanding how AD security groups translate to Salesforce Profiles, Permission Sets, and Permission Set Groups.
                </p>
                
                <!-- Important Notice -->
                <div class="bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-500 p-4 rounded">
                    <div class="flex items-start">
                        <svg class="w-6 h-6 text-amber-600 dark:text-amber-400 mr-3 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                        </svg>
                        <div>
                            <h3 class="font-semibold text-amber-900 dark:text-amber-300 mb-1">Important: The Future of Profiles</h3>
                            <p class="text-sm text-amber-800 dark:text-amber-200 leading-relaxed">
                                While Salesforce originally announced the retirement of permissions on profiles for Spring '26, Salesforce have since removed the hard enforcement date. However, <strong>all future investments are focused on Permission Sets and Permission Set Groups</strong>. Profiles will remain for basic settings (login hours, IP ranges, page layouts, record types, and apps), but permissions should be managed through Permission Sets. Organizations are strongly encouraged to adopt a permission set-led security model now.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Key Concepts -->
            <section class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800">
                    <h3 class="text-lg font-semibold text-blue-900 dark:text-blue-300 mb-3">Active Directory</h3>
                    <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                        <li class="flex items-start">
                            <span class="text-blue-600 dark:text-blue-400 mr-2">•</span>
                            <span>Users organized in an organizational hierarchy</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-blue-600 dark:text-blue-400 mr-2">•</span>
                            <span>Security groups define access rights</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-blue-600 dark:text-blue-400 mr-2">•</span>
                            <span>Role-based access control (RBAC)</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800">
                    <h3 class="text-lg font-semibold text-green-900 dark:text-green-300 mb-3">Salesforce</h3>
                    <ul class="space-y-2 text-gray-700 dark:text-gray-300">
                        <li class="flex items-start">
                            <span class="text-green-600 dark:text-green-400 mr-2">•</span>
                            <span>Profiles define baseline permissions</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 dark:text-green-400 mr-2">•</span>
                            <span>Permission Sets grant additional access</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 dark:text-green-400 mr-2">•</span>
                            <span>Permission Set Groups bundle permissions</span>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Mapping Examples -->
            <section class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Mapping Examples</h2>

                <!-- Example 1 -->
                <div class="mb-8 border-l-4 border-purple-500 dark:border-purple-400 pl-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Example 1: Sales Team Mapping</h3>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Active Directory Structure:</p>
                        <div class="bg-white dark:bg-gray-800 rounded p-3 text-sm">
                            <div class="text-gray-700 dark:text-gray-300">
                                <span class="text-purple-600 dark:text-purple-400">Security Group:</span> Sales_Team<br>
                                <span class="ml-4 text-purple-600 dark:text-purple-400">├─</span> Sales_Managers<br>
                                <span class="ml-4 text-purple-600 dark:text-purple-400">├─</span> Sales_Reps<br>
                                <span class="ml-4 text-purple-600 dark:text-purple-400">└─</span> Sales_Support
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Salesforce Mapping:</p>
                        <div class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Profile:</span>
                                <span>All users → "Sales User" profile (baseline permissions)</span>
                            </div>
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Permission Sets:</span>
                                <div>
                                    <div>Sales_Managers → "Sales Manager Access" permission set</div>
                                    <div class="ml-4 text-xs text-gray-600 dark:text-gray-400">(Access to reports, dashboards, forecast management)</div>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Permission Set Group:</span>
                                <div>
                                    <div>Sales_Team → "Complete Sales Access" group</div>
                                    <div class="ml-4 text-xs text-gray-600 dark:text-gray-400">(Bundles multiple permission sets for common sales tools)</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example 2 -->
                <div class="mb-8 border-l-4 border-indigo-500 dark:border-indigo-400 pl-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Example 2: IT Department Mapping</h3>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Active Directory Structure:</p>
                        <div class="bg-white dark:bg-gray-800 rounded p-3 text-sm">
                            <div class="text-gray-700 dark:text-gray-300">
                                <span class="text-indigo-600 dark:text-indigo-400">Security Group:</span> IT_Department<br>
                                <span class="ml-4 text-indigo-600 dark:text-indigo-400">├─</span> IT_Administrators<br>
                                <span class="ml-4 text-indigo-600 dark:text-indigo-400">└─</span> IT_Developers
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Salesforce Mapping:</p>
                        <div class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Profile:</span>
                                <div>
                                    <div>IT_Administrators → "System Administrator" profile</div>
                                    <div>IT_Developers → "Standard User" profile</div>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Permission Set Group:</span>
                                <div>
                                    <div>IT_Developers → "Developer Access" group containing:</div>
                                    <div class="ml-4 text-xs text-gray-600 dark:text-gray-400">• API Access permission set</div>
                                    <div class="ml-4 text-xs text-gray-600 dark:text-gray-400">• View Setup permission set</div>
                                    <div class="ml-4 text-xs text-gray-600 dark:text-gray-400">• Debug Logs permission set</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example 3 -->
                <div class="border-l-4 border-teal-500 dark:border-teal-400 pl-6">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-3">Example 3: Multi-Department User</h3>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Scenario:</p>
                        <div class="bg-white dark:bg-gray-800 rounded p-3 text-sm text-gray-700 dark:text-gray-300">
                            Sarah is a Sales Manager who also leads a product team
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Active Directory Membership:</p>
                        <div class="bg-white dark:bg-gray-800 rounded p-3 text-sm text-gray-700 dark:text-gray-300">
                            <div>• Sales_Managers</div>
                            <div>• Product_Team_Leads</div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                        <p class="text-sm font-mono text-gray-800 dark:text-gray-200 mb-2">Salesforce Permissions (Additive):</p>
                        <div class="space-y-2 text-sm text-gray-700 dark:text-gray-300">
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Profile:</span>
                                <span>"Sales User" (baseline)</span>
                            </div>
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Permission Sets:</span>
                                <div>
                                    <div>• "Sales Manager Access"</div>
                                    <div>• "Product Management Access"</div>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <span class="font-semibold mr-2">Result:</span>
                                <span class="text-teal-700 dark:text-teal-300">Sarah gets the union of all permissions from both roles</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Best Practices -->
            <section class="bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Best Practices</h2>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Use Permission Set Groups</h4>
                        <p class="text-sm text-gray-700 dark:text-gray-300">Bundle related permission sets together to simplify management and mirror AD group structure</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Minimize Profile Usage</h4>
                        <p class="text-sm text-gray-700 dark:text-gray-300">Use minimal profiles (System Admin, Minimum Access) and grant all permissions through Permission Sets. This is now Salesforce's recommended approach.</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Automate with SSO/SAML</h4>
                        <p class="text-sm text-gray-700 dark:text-gray-300">Use Just-in-Time provisioning to automatically assign permission sets based on AD group membership</p>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Document Your Mapping</h4>
                        <p class="text-sm text-gray-700 dark:text-gray-300">Maintain clear documentation of which AD groups map to which Salesforce permissions</p>
                    </div>
                </div>
            </section>

            <!-- Visual Flow -->
            <section class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Integration Flow</h2>
                <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                    <div class="bg-blue-100 dark:bg-blue-900/40 rounded-lg p-4 flex-1 text-center">
                        <div class="text-sm font-semibold text-blue-900 dark:text-blue-300 mb-2">Active Directory</div>
                        <div class="text-xs text-gray-700 dark:text-gray-300">User + Security Groups</div>
                    </div>
                    <div class="text-2xl text-gray-400 dark:text-gray-600 rotate-90 md:rotate-0">→</div>
                    <div class="bg-purple-100 dark:bg-purple-900/40 rounded-lg p-4 flex-1 text-center">
                        <div class="text-sm font-semibold text-purple-900 dark:text-purple-300 mb-2">SSO/SAML</div>
                        <div class="text-xs text-gray-700 dark:text-gray-300">Authentication + Attributes</div>
                    </div>
                    <div class="text-2xl text-gray-400 dark:text-gray-600 rotate-90 md:rotate-0">→</div>
                    <div class="bg-green-100 dark:bg-green-900/40 rounded-lg p-4 flex-1 text-center">
                        <div class="text-sm font-semibold text-green-900 dark:text-green-300 mb-2">Salesforce</div>
                        <div class="text-xs text-gray-700 dark:text-gray-300">Profile + Permission Sets</div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-white dark:bg-gray-800 mt-12 py-6 border-t border-gray-200 dark:border-gray-700">
            <div class="max-w-6xl mx-auto px-6 text-center text-sm text-gray-600 dark:text-gray-400">
                Active Directory to Salesforce User Mapping Guide
            </div>
        </footer>
    </div>
</body>
</html>
