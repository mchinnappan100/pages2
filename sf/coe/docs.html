<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>COE Portal</title>
  <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            panel: '#0f172a',
            sidebar: '#020617',
            divider: '#1e293b'
          }
        }
      }
    }
  </script>

  <style>
    iframe {
      border: none;
    }
    .resizer {
      cursor: col-resize;
      user-select: none;
    }
  </style>
</head>

<body class="h-screen overflow-hidden bg-slate-950 text-slate-200">

  <!-- App Container -->
  <div class="flex h-full">

    <!-- Left Pane -->
    <aside id="leftPane" class="w-72 min-w-[200px] bg-sidebar border-r border-divider flex flex-col">
      <div class="px-4 py-4 border-b border-divider">
        <h1 class="text-lg font-semibold tracking-wide">ðŸ“˜ Docs</h1>
      </div>

      <nav class="flex-1 overflow-y-auto px-4 py-3 space-y-6">

        <!-- COE Section -->
        <div>
          <h2 class="text-xs uppercase tracking-wider text-slate-400 mb-2">
            COE
          </h2>
          <ul class="space-y-1">
            <li>
              <button onclick="loadPage('coe.html')" class="toc-link">COE Overview</button>
            </li>
            <li>
              <button onclick="loadPage('coe-tracker.html')" class="toc-link">COE Tracker</button>
            </li>
            <li>
              <button onclick="loadPage('coe-tracker-help.html')" class="toc-link">COE Tracker â€“ Help</button>
            </li>
            <li>
              <button onclick="loadPage('coe-chart.html')" class="toc-link">COE Charts</button>
            </li>
          </ul>
        </div>

        <!-- OAuth Section -->
        <div>
          <h2 class="text-xs uppercase tracking-wider text-slate-400 mb-2">
            OAuth
          </h2>
          <ul class="space-y-1">
            <li>
              <button onclick="loadPage('oauth.html')" class="toc-link">OAuth Flow</button>
            </li>
            <li>
              <button onclick="loadPage('tokens.html')" class="toc-link">Tokens</button>
            </li>
          </ul>
        </div>

           <!-- Deployment Section -->
        <div>
          <h2 class="text-xs uppercase tracking-wider text-slate-400 mb-2">
            Deployments
          </h2>
          <ul class="space-y-1">
            <li>
              <button onclick="loadPage('deployment.html')" class="toc-link">No big-bang</button>
            </li>
          </ul>
        </div>

        <!-- Tools Section -->
        <div>
          <h2 class="text-xs uppercase tracking-wider text-slate-400 mb-2">
            SF Events

          </h2>
          <ul class="space-y-1">
            <li>
              <button onclick="loadPage('https://www.npmjs.com/package/sf-event-monitor')" class="toc-link">SF Events Monitor </button>
            </li>
          </ul>
        </div>

      </nav>
    </aside>

    <!-- Splitter -->
    <div id="resizer" class="resizer w-1 bg-divider hover:bg-slate-500"></div>

    <!-- Right Pane -->
    <main class="flex-1 bg-panel">
      <iframe
        id="contentFrame"
        src="coe.html"
        class="w-full h-full bg-white dark:bg-panel">
      </iframe>
    </main>

  </div>

  <!-- Scripts -->
<script>
  const iframe = document.getElementById('contentFrame');

  function loadPage(page) {
    if (page.startsWith('http')) {
      window.open(page, '_blank', 'noopener,noreferrer');
    } else {
      iframe.src = page;
    }
  }

  // Resizer logic
  const resizer = document.getElementById('resizer');
  const leftPane = document.getElementById('leftPane');

  let isDragging = false;

  resizer.addEventListener('mousedown', () => {
    isDragging = true;
    document.body.style.cursor = 'col-resize';
  });

  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    const newWidth = e.clientX;
    if (newWidth > 180 && newWidth < 500) {
      leftPane.style.width = `${newWidth}px`;
    }
  });

  document.addEventListener('mouseup', () => {
    isDragging = false;
    document.body.style.cursor = 'default';
  });
</script>


  <!-- Shared styles -->
  <style>
    .toc-link {
      width: 100%;
      text-align: left;
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      color: #cbd5f5;
      font-size: 0.875rem;
    }
    .toc-link:hover {
      background-color: #1e293b;
      color: #ffffff;
    }
  </style>

</body>
</html>
