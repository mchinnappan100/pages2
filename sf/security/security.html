<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce IP Ranges - Best Practices Guide</title>
    <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            bg: '#0f172a',
                            card: '#1e293b',
                            border: '#334155',
                            text: '#e2e8f0',
                            muted: '#94a3b8'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-dark-bg text-dark-text min-h-screen">
    <div class="max-w-5xl mx-auto px-6 py-12">
        <!-- Header -->
        <header class="mb-12">
            <div class="flex items-center gap-4 mb-4">
                <svg class="w-12 h-12 text-blue-500" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                </svg>
                <h1 class="text-4xl font-bold text-white">Salesforce IP Ranges</h1>
            </div>
            <p class="text-xl text-dark-muted">Best Practices & Implementation Guide</p>
            <div class="mt-4 flex gap-2">
                <span class="px-3 py-1 bg-blue-600 text-white text-sm rounded-full">Security</span>
                <span class="px-3 py-1 bg-green-600 text-white text-sm rounded-full">Network</span>
                <span class="px-3 py-1 bg-purple-600 text-white text-sm rounded-full">Best Practices</span>
            </div>
        </header>

        <!-- Table of Contents -->
        <nav class="bg-dark-card border border-dark-border rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-semibold text-white mb-4">Table of Contents</h2>
            <ul class="space-y-2 text-dark-muted">
                <li><a href="#overview" class="hover:text-blue-400 transition">1. Overview</a></li>
                <li><a href="#levels" class="hover:text-blue-400 transition">2. IP Range Levels</a></li>
                <li><a href="#org-level" class="hover:text-blue-400 transition">3. Organization-Level Best Practices</a></li>
                <li><a href="#profile-level" class="hover:text-blue-400 transition">4. Profile-Level Best Practices</a></li>
                <li><a href="#session-level" class="hover:text-blue-400 transition">5. Session-Level Best Practices</a></li>
                <li><a href="#implementation" class="hover:text-blue-400 transition">6. Implementation Strategy</a></li>
                <li><a href="#monitoring" class="hover:text-blue-400 transition">7. Monitoring & Maintenance</a></li>
                <li><a href="#common-pitfalls" class="hover:text-blue-400 transition">8. Common Pitfalls</a></li>
            </ul>
        </nav>

        <!-- Overview Section -->
        <section id="overview" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Overview</h2>
                <p class="text-dark-muted mb-4">
                    Salesforce IP range restrictions are a critical security control that limits user access to your Salesforce organization 
                    based on the IP address from which they're connecting. When properly implemented, IP restrictions provide an additional 
                    layer of defense against unauthorized access, even if credentials are compromised.
                </p>
                <div class="bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded">
                    <p class="text-blue-200">
                        <strong>Key Principle:</strong> IP restrictions should be implemented as part of a defense-in-depth strategy, 
                        not as the sole security mechanism. Always combine with MFA, strong passwords, and other security controls.
                    </p>
                </div>
            </div>
        </section>

        <!-- IP Range Levels -->
        <section id="levels" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">IP Range Levels</h2>
                <p class="text-dark-muted mb-6">
                    Salesforce provides three distinct levels of IP range restrictions, each serving different purposes:
                </p>

                <div class="space-y-6">
                    <!-- Organization Level -->
                    <div class="bg-slate-800/50 border border-dark-border rounded-lg p-6">
                        <div class="flex items-start gap-4">
                            <div class="bg-blue-600 text-white w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 font-bold">
                                1
                            </div>
                            <div class="flex-1">
                                <h3 class="text-xl font-semibold text-white mb-2">Organization-Level Trusted IP Ranges</h3>
                                <p class="text-dark-muted mb-3">
                                    Global whitelist that applies to all users across the organization. Users logging in from these 
                                    IP ranges bypass certain security challenges.
                                </p>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <h4 class="text-sm font-semibold text-green-400 mb-2">Use Cases:</h4>
                                        <ul class="text-sm text-dark-muted space-y-1">
                                            <li>‚Ä¢ Corporate office networks</li>
                                            <li>‚Ä¢ VPN endpoints</li>
                                            <li>‚Ä¢ Trusted integration servers</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-semibold text-yellow-400 mb-2">Location:</h4>
                                        <p class="text-sm text-dark-muted">Setup ‚Üí Security ‚Üí Network Access</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Level -->
                    <div class="bg-slate-800/50 border border-dark-border rounded-lg p-6">
                        <div class="flex items-start gap-4">
                            <div class="bg-purple-600 text-white w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 font-bold">
                                2
                            </div>
                            <div class="flex-1">
                                <h3 class="text-xl font-semibold text-white mb-2">Profile-Level Login IP Ranges</h3>
                                <p class="text-dark-muted mb-3">
                                    Hard restrictions that enforce access only from specified IP ranges for users with specific profiles. 
                                    Login attempts from outside these ranges are blocked.
                                </p>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <h4 class="text-sm font-semibold text-green-400 mb-2">Use Cases:</h4>
                                        <ul class="text-sm text-dark-muted space-y-1">
                                            <li>‚Ä¢ Restricting admin access</li>
                                            <li>‚Ä¢ Third-party contractor access</li>
                                            <li>‚Ä¢ Compliance requirements</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-semibold text-yellow-400 mb-2">Location:</h4>
                                        <p class="text-sm text-dark-muted">Profile Settings ‚Üí System :: Login IP Ranges</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Session Level -->
                    <div class="bg-slate-800/50 border border-dark-border rounded-lg p-6">
                        <div class="flex items-start gap-4">
                            <div class="bg-green-600 text-white w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 font-bold">
                                3
                            </div>
                            <div class="flex-1">
                                <h3 class="text-xl font-semibold text-white mb-2">Session-Level Security (Conditional Access)</h3>
                                <p class="text-dark-muted mb-3">
                                    Dynamic policies that apply different security requirements based on IP ranges, used with 
                                    Session-Based Permission Sets and Policies.
                                </p>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <h4 class="text-sm font-semibold text-green-400 mb-2">Use Cases:</h4>
                                        <ul class="text-sm text-dark-muted space-y-1">
                                            <li>‚Ä¢ Elevated privileges on-site only</li>
                                            <li>‚Ä¢ Reduced access for remote workers</li>
                                            <li>‚Ä¢ Context-aware permissions</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 class="text-sm font-semibold text-yellow-400 mb-2">Location:</h4>
                                        <p class="text-sm text-dark-muted">Setup ‚Üí Session Settings</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Organization-Level Best Practices -->
        <section id="org-level" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Organization-Level Best Practices</h2>

                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-semibold text-blue-400 mb-3">‚úì Do's</h3>
                        <div class="space-y-4">
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Include all corporate network ranges</p>
                                    <p class="text-dark-muted text-sm">Add all office locations, VPN endpoints, and known static IPs to prevent lockouts.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Document each IP range with clear descriptions</p>
                                    <p class="text-dark-muted text-sm">Use descriptive names like "NYC Office - 192.168.1.0/24" or "Azure VPN Gateway" for easy identification.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Use CIDR notation for efficiency</p>
                                    <p class="text-dark-muted text-sm">Instead of individual IPs, use ranges (e.g., 10.0.0.0/24) to cover subnets efficiently.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Maintain an IP range inventory</p>
                                    <p class="text-dark-muted text-sm">Keep a spreadsheet or document tracking all ranges, their purpose, and update dates.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Test changes in sandbox first</p>
                                    <p class="text-dark-muted text-sm">Always validate IP range changes in a sandbox environment before production deployment.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-red-400 mb-3">‚úó Don'ts</h3>
                        <div class="space-y-4">
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't add 0.0.0.0/0 (allow all)</p>
                                    <p class="text-dark-muted text-sm">This defeats the entire purpose of IP restrictions and creates a security vulnerability.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't add dynamic residential IP ranges</p>
                                    <p class="text-dark-muted text-sm">Home ISP ranges change frequently and would require constant maintenance.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't forget about API integrations</p>
                                    <p class="text-dark-muted text-sm">Ensure integration server IPs are included or use OAuth for authentication.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't rely solely on org-level restrictions</p>
                                    <p class="text-dark-muted text-sm">Layer with profile-level restrictions for sensitive roles like System Administrators.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile-Level Best Practices -->
        <section id="profile-level" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Profile-Level Best Practices</h2>

                <div class="bg-orange-900/20 border-l-4 border-orange-500 p-4 rounded mb-6">
                    <p class="text-orange-200">
                        <strong>Warning:</strong> Profile-level restrictions are hard blocks. Users outside these ranges cannot log in, 
                        even with valid credentials. Plan carefully to avoid lockouts.
                    </p>
                </div>

                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-semibold text-blue-400 mb-3">‚úì Do's</h3>
                        <div class="space-y-4">
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Apply to high-privilege profiles first</p>
                                    <p class="text-dark-muted text-sm">Start with System Administrator, then expand to other privileged roles.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Always maintain an emergency access profile</p>
                                    <p class="text-dark-muted text-sm">Keep one admin profile without IP restrictions for emergency access scenarios.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Use specific ranges for contractors</p>
                                    <p class="text-dark-muted text-sm">Restrict third-party access to their known IP ranges or VPN endpoints.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Communicate changes in advance</p>
                                    <p class="text-dark-muted text-sm">Give users 1-2 weeks notice before implementing profile-level restrictions.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Coordinate with IT/Network teams</p>
                                    <p class="text-dark-muted text-sm">Verify current and planned IP ranges before implementation.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-red-400 mb-3">‚úó Don'ts</h3>
                        <div class="space-y-4">
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't apply to all profiles immediately</p>
                                    <p class="text-dark-muted text-sm">Roll out gradually to avoid mass lockouts and allow for troubleshooting.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't implement during peak business hours</p>
                                    <p class="text-dark-muted text-sm">Deploy during low-usage windows (evenings, weekends) to minimize impact.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't forget mobile users</p>
                                    <p class="text-dark-muted text-sm">Consider how profile restrictions affect Salesforce Mobile App users.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't use for general employee profiles</p>
                                    <p class="text-dark-muted text-sm">Too restrictive for standard users who may work remotely or travel.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile Restriction Matrix -->
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-white mb-4">Recommended Profile Restriction Matrix</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-dark-border">
                                    <th class="text-left py-3 px-4 text-white">Profile Type</th>
                                    <th class="text-left py-3 px-4 text-white">IP Restriction</th>
                                    <th class="text-left py-3 px-4 text-white">Rationale</th>
                                </tr>
                            </thead>
                            <tbody class="text-dark-muted">
                                <tr class="border-b border-dark-border">
                                    <td class="py-3 px-4">System Administrator</td>
                                    <td class="py-3 px-4"><span class="text-red-400">Required</span></td>
                                    <td class="py-3 px-4">Highest privilege - restrict to corporate network only</td>
                                </tr>
                                <tr class="border-b border-dark-border">
                                    <td class="py-3 px-4">Integration User</td>
                                    <td class="py-3 px-4"><span class="text-red-400">Required</span></td>
                                    <td class="py-3 px-4">Limit to known integration server IPs</td>
                                </tr>
                                <tr class="border-b border-dark-border">
                                    <td class="py-3 px-4">Contractor/Vendor</td>
                                    <td class="py-3 px-4"><span class="text-yellow-400">Recommended</span></td>
                                    <td class="py-3 px-4">Restrict to vendor's office/VPN IPs</td>
                                </tr>
                                <tr class="border-b border-dark-border">
                                    <td class="py-3 px-4">Standard User</td>
                                    <td class="py-3 px-4"><span class="text-green-400">Optional</span></td>
                                    <td class="py-3 px-4">Use org-level restrictions instead for flexibility</td>
                                </tr>
                                <tr class="border-b border-dark-border">
                                    <td class="py-3 px-4">Read Only/Report Viewer</td>
                                    <td class="py-3 px-4"><span class="text-green-400">Not Recommended</span></td>
                                    <td class="py-3 px-4">Low risk profile, org-level sufficient</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Session-Level Best Practices -->
        <section id="session-level" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Session-Level Best Practices</h2>

                <p class="text-dark-muted mb-6">
                    Session-based permissions allow you to grant or restrict access to specific features dynamically based on 
                    the user's current IP address and other session attributes.
                </p>

                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-semibold text-blue-400 mb-3">‚úì Do's</h3>
                        <div class="space-y-4">
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Use for context-aware permissions</p>
                                    <p class="text-dark-muted text-sm">Grant elevated permissions only when users are on corporate network.</p>
                                    <div class="mt-2 bg-slate-800 p-3 rounded text-xs text-dark-muted">
                                        Example: Allow bulk data export only from office IPs
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Combine with time-based restrictions</p>
                                    <p class="text-dark-muted text-sm">Layer IP restrictions with business hours for maximum security.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Apply to sensitive operations</p>
                                    <p class="text-dark-muted text-sm">Restrict data export, mass delete, or configuration changes to trusted IPs.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-green-500 text-xl">‚úì</span>
                                <div>
                                    <p class="text-white font-medium">Monitor session activation patterns</p>
                                    <p class="text-dark-muted text-sm">Track when and how session-based permissions are being activated.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-red-400 mb-3">‚úó Don'ts</h3>
                        <div class="space-y-4">
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't make it overly complex</p>
                                    <p class="text-dark-muted text-sm">Keep policies simple and well-documented to avoid user confusion.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't forget to communicate the policy</p>
                                    <p class="text-dark-muted text-sm">Users should understand why they have different permissions in different locations.</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="text-red-500 text-xl">‚úó</span>
                                <div>
                                    <p class="text-white font-medium">Don't use as the only security control</p>
                                    <p class="text-dark-muted text-sm">Session policies should complement, not replace, standard permission sets.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Use Case Example -->
                <div class="mt-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30 border border-blue-700/50 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-white mb-4">üí° Use Case Example</h3>
                    <p class="text-dark-muted mb-3">
                        <strong class="text-white">Scenario:</strong> Sales managers need access to mass email features only when in the office 
                        to prevent data exfiltration from unsecured locations.
                    </p>
                    <p class="text-dark-muted">
                        <strong class="text-white">Solution:</strong> Create a session-based permission set that grants "Mass Email" permission 
                        only when the user's IP matches the corporate network range (e.g., 203.0.113.0/24). Outside the office, 
                        they can still access Salesforce but cannot send mass emails.
                    </p>
                </div>
            </div>
        </section>

        <!-- Implementation Strategy -->
        <section id="implementation" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Implementation Strategy</h2>

                <div class="space-y-8">
                    <!-- Phase 1 -->
                    <div>
                        <div class="flex items-center gap-3 mb-4">
                            <div class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold">Phase 1</div>
                            <h3 class="text-2xl font-semibold text-white">Discovery & Planning</h3>
                        </div>
                        <div class="pl-6 border-l-2 border-blue-600 space-y-3">
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Inventory Current Network Infrastructure</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Document all office locations and their public IP ranges</li>
                                    <li>‚Ä¢ Identify VPN endpoints and their IP addresses</li>
                                    <li>‚Ä¢ Map integration servers and middleware platforms</li>
                                    <li>‚Ä¢ Identify cloud service provider IP ranges (if applicable)</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Analyze User Access Patterns</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Review login history reports for IP address patterns</li>
                                    <li>‚Ä¢ Identify remote workers and their access needs</li>
                                    <li>‚Ä¢ Document mobile user requirements</li>
                                    <li>‚Ä¢ Survey users about work-from-home policies</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Define Security Requirements</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Establish compliance requirements (SOX, HIPAA, GDPR, etc.)</li>
                                    <li>‚Ä¢ Identify high-risk profiles and users</li>
                                    <li>‚Ä¢ Determine acceptable risk levels</li>
                                    <li>‚Ä¢ Create security policy documentation</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Phase 2 -->
                    <div>
                        <div class="flex items-center gap-3 mb-4">
                            <div class="bg-purple-600 text-white px-4 py-2 rounded-lg font-semibold">Phase 2</div>
                            <h3 class="text-2xl font-semibold text-white">Sandbox Testing</h3>
                        </div>
                        <div class="pl-6 border-l-2 border-purple-600 space-y-3">
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Configure Organization-Level Ranges</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Add all known corporate IP ranges to sandbox</li>
                                    <li>‚Ä¢ Test login from various locations</li>
                                    <li>‚Ä¢ Verify API integrations function correctly</li>
                                    <li>‚Ä¢ Document any issues or exceptions needed</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Test Profile-Level Restrictions</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Create test profiles with IP restrictions</li>
                                    <li>‚Ä¢ Test login from inside and outside allowed ranges</li>
                                    <li>‚Ä¢ Verify error messages are clear to users</li>
                                    <li>‚Ä¢ Test emergency access procedures</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Pilot with Small User Group</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Select 5-10 users representing different use cases</li>
                                    <li>‚Ä¢ Monitor for 1-2 weeks</li>
                                    <li>‚Ä¢ Collect feedback on user experience</li>
                                    <li>‚Ä¢ Adjust configuration based on findings</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Phase 3 -->
                    <div>
                        <div class="flex items-center gap-3 mb-4">
                            <div class="bg-green-600 text-white px-4 py-2 rounded-lg font-semibold">Phase 3</div>
                            <h3 class="text-2xl font-semibold text-white">Staged Production Rollout</h3>
                        </div>
                        <div class="pl-6 border-l-2 border-green-600 space-y-3">
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Week 1: Organization-Level Only</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Deploy trusted IP ranges to production</li>
                                    <li>‚Ä¢ Monitor login activity closely</li>
                                    <li>‚Ä¢ Provide IT support availability</li>
                                    <li>‚Ä¢ No profile-level restrictions yet</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Week 2-3: Admin Profiles</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Apply profile restrictions to System Administrator</li>
                                    <li>‚Ä¢ Apply to integration user profiles</li>
                                    <li>‚Ä¢ Keep one emergency admin profile unrestricted</li>
                                    <li>‚Ä¢ Monitor and adjust as needed</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 p-4 rounded">
                                <p class="text-white font-medium mb-2">Week 4+: Gradual Expansion</p>
                                <ul class="text-dark-muted text-sm space-y-1">
                                    <li>‚Ä¢ Add restrictions to high-privilege profiles</li>
                                    <li>‚Ä¢ Implement session-based policies if needed</li>
                                    <li>‚Ä¢ Continue monitoring and optimization</li>
                                    <li>‚Ä¢ Document final configuration</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Monitoring & Maintenance -->
        <section id="monitoring" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Monitoring & Maintenance</h2>

                <div class="space-y-6">
                    <div class="bg-slate-800/50 border border-dark-border rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-white mb-4">üìä Key Metrics to Monitor</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-blue-400 font-medium mb-2">Failed Login Attempts</p>
                                <p class="text-dark-muted text-sm">Track login failures due to IP restrictions to identify configuration issues.</p>
                            </div>
                            <div>
                                <p class="text-blue-400 font-medium mb-2">IP Range Utilization</p>
                                <p class="text-dark-muted text-sm">Monitor which IP ranges are actively used vs. unused/stale entries.</p>
                            </div>
                            <div>
                                <p class="text-blue-400 font-medium mb-2">Exception Requests</p>
                                <p class="text-dark-muted text-sm">Track requests for IP range additions or changes.</p>
                            </div>
                            <div>
                                <p class="text-blue-400 font-medium mb-2">Session Policy Activations</p>
                                <p class="text-dark-muted text-sm">Monitor when session-based permissions are triggered.</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 border border-dark-border rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-white mb-4">üîÑ Regular Maintenance Tasks</h3>
                        <div class="space-y-4">
                            <div class="flex items-start gap-4">
                                <div class="bg-blue-600 text-white px-3 py-1 rounded text-sm font-medium">Monthly</div>
                                <div class="flex-1">
                                    <p class="text-white font-medium">Review login history reports</p>
                                    <p class="text-dark-muted text-sm">Identify anomalies and verify IP ranges are current.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="bg-purple-600 text-white px-3 py-1 rounded text-sm font-medium">Quarterly</div>
                                <div class="flex-1">
                                    <p class="text-white font-medium">Audit and clean up unused IP ranges</p>
                                    <p class="text-dark-muted text-sm">Remove old VPN endpoints, closed offices, or deprecated integrations.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="bg-green-600 text-white px-3 py-1 rounded text-sm font-medium">Annually</div>
                                <div class="flex-1">
                                    <p class="text-white font-medium">Full security review and documentation update</p>
                                    <p class="text-dark-muted text-sm">Review all restrictions against current business needs and update documentation.</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4">
                                <div class="bg-yellow-600 text-white px-3 py-1 rounded text-sm font-medium">Ad-hoc</div>
                                <div class="flex-1">
                                    <p class="text-white font-medium">Network infrastructure changes</p>
                                    <p class="text-dark-muted text-sm">Update IP ranges when offices move, VPNs change, or integrations are modified.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 border border-dark-border rounded-lg p-6">
                        <h3 class="text-xl font-semibold text-white mb-4">üõ†Ô∏è Useful Reports & Tools</h3>
                        <div class="space-y-3">
                            <div class="bg-slate-900 p-4 rounded">
                                <p class="text-white font-medium mb-1">Login History Report</p>
                                <p class="text-dark-muted text-sm mb-2">Setup ‚Üí Login History</p>
                                <p class="text-blue-400 text-xs">Shows all login attempts with IP addresses and success/failure status.</p>
                            </div>
                            <div class="bg-slate-900 p-4 rounded">
                                <p class="text-white font-medium mb-1">Event Monitoring (if available)</p>
                                <p class="text-dark-muted text-sm mb-2">Setup ‚Üí Event Monitoring</p>
                                <p class="text-blue-400 text-xs">Provides detailed logs of login events, API calls, and more.</p>
                            </div>
                            <div class="bg-slate-900 p-4 rounded">
                                <p class="text-white font-medium mb-1">Security Health Check</p>
                                <p class="text-dark-muted text-sm mb-2">Setup ‚Üí Security Health Check</p>
                                <p class="text-blue-400 text-xs">Includes recommendations for IP range configurations.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Common Pitfalls -->
        <section id="common-pitfalls" class="mb-12">
            <div class="bg-dark-card border border-dark-border rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">Common Pitfalls & Solutions</h2>

                <div class="space-y-6">
                    <div class="bg-red-900/20 border-l-4 border-red-500 p-6 rounded">
                        <h3 class="text-xl font-semibold text-red-400 mb-2">‚ö†Ô∏è The Admin Lockout</h3>
                        <p class="text-dark-muted mb-3">
                            <strong class="text-white">Problem:</strong> All system administrators get locked out after applying profile-level 
                            restrictions because they're working remotely or the VPN IP wasn't included.
                        </p>
                        <p class="text-green-400 font-medium mb-2">‚úì Solution:</p>
                        <ul class="text-dark-muted space-y-1 ml-4">
                            <li>‚Ä¢ Always maintain one admin profile without IP restrictions as a "break glass" emergency account</li>
                            <li>‚Ä¢ Test thoroughly in sandbox with real-world scenarios before production</li>
                            <li>‚Ä¢ Document and communicate the emergency access procedure to IT leadership</li>
                            <li>‚Ä¢ Contact Salesforce support immediately if locked out - they can temporarily disable restrictions</li>
                        </ul>
                    </div>

                    <div class="bg-orange-900/20 border-l-4 border-orange-500 p-6 rounded">
                        <h3 class="text-xl font-semibold text-orange-400 mb-2">‚ö†Ô∏è The Integration Breakdown</h3>
                        <p class="text-dark-muted mb-3">
                            <strong class="text-white">Problem:</strong> Automated integrations stop working after implementing IP restrictions 
                            because the integration server IPs weren't whitelisted.
                        </p>
                        <p class="text-green-400 font-medium mb-2">‚úì Solution:</p>
                        <ul class="text-dark-muted space-y-1 ml-4">
                            <li>‚Ä¢ Inventory all integration points before implementing restrictions</li>
                            <li>‚Ä¢ Add integration server IPs to org-level trusted ranges</li>
                            <li>‚Ä¢ Consider using OAuth flows instead of username/password for integrations</li>
                            <li>‚Ä¢ Set up monitoring alerts for integration failures</li>
                        </ul>
                    </div>

                    <div class="bg-yellow-900/20 border-l-4 border-yellow-500 p-6 rounded">
                        <h3 class="text-xl font-semibold text-yellow-400 mb-2">‚ö†Ô∏è The Mobile App Mystery</h3>
                        <p class="text-dark-muted mb-3">
                            <strong class="text-white">Problem:</strong> Mobile app users can't log in because their carrier's IP addresses 
                            change frequently and weren't considered in the IP restriction strategy.
                        </p>
                        <p class="text-green-400 font-medium mb-2">‚úì Solution:</p>
                        <ul class="text-dark-muted space-y-1 ml-4">
                            <li>‚Ä¢ Don't apply profile-level restrictions to mobile-heavy user groups</li>
                            <li>‚Ä¢ Use conditional access policies that allow mobile with MFA</li>
                            <li>‚Ä¢ Implement session-based permissions for sensitive actions instead</li>
                            <li>‚Ä¢ Consider mobile-only profiles without IP restrictions</li>
                        </ul>
                    </div>

                    <div class="bg-blue-900/20 border-l-4 border-blue-500 p-6 rounded">
                        <h3 class="text-xl font-semibold text-blue-400 mb-2">‚ö†Ô∏è The VPN Vendor Change</h3>
                        <p class="text-dark-muted mb-3">
                            <strong class="text-white">Problem:</strong> IT changes VPN providers without notifying the Salesforce team, 
                            causing mass user lockouts the next business day.
                        </p>
                        <p class="text-green-400 font-medium mb-2">‚úì Solution:</p>
                        <ul class="text-dark-muted space-y-1 ml-4">
                            <li>‚Ä¢ Establish a change management process that includes Salesforce IP range reviews</li>
                            <li>‚Ä¢ Create a notification list for network infrastructure changes</li>
                            <li>‚Ä¢ Document Salesforce IP dependencies in your organization's change control system</li>
                            <li>‚Ä¢ Maintain regular communication with IT/Network teams</li>
                        </ul>
                    </div>

                    <div class="bg-purple-900/20 border-l-4 border-purple-500 p-6 rounded">
                        <h3 class="text-xl font-semibold text-purple-400 mb-2">‚ö†Ô∏è The Stale IP Accumulation</h3>
                        <p class="text-dark-muted mb-3">
                            <strong class="text-white">Problem:</strong> Over time, dozens of old IP ranges accumulate (closed offices, 
                            decommissioned VPNs, old integrations) creating security vulnerabilities and confusion.
                        </p>
                        <p class="text-green-400 font-medium mb-2">‚úì Solution:</p>
                        <ul class="text-dark-muted space-y-1 ml-4">
                            <li>‚Ä¢ Schedule quarterly IP range audits</li>
                            <li>‚Ä¢ Require descriptions for all IP ranges with date added and owner</li>
                            <li>‚Ä¢ Implement a review process before adding new ranges</li>
                            <li>‚Ä¢ Use monitoring to identify unused IP ranges for removal</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Reference -->
        <section class="mb-12">
            <div class="bg-gradient-to-br from-blue-900/30 via-purple-900/30 to-pink-900/30 border border-blue-700/50 rounded-lg p-8">
                <h2 class="text-3xl font-bold text-white mb-6">üìã Quick Reference Checklist</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold text-blue-400 mb-3">Before Implementation</h3>
                        <ul class="space-y-2 text-dark-muted">
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Documented all corporate IP ranges</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Identified all integration points</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Tested in sandbox environment</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Created emergency access plan</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Communicated to all affected users</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Coordinated with IT/Network team</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold text-purple-400 mb-3">After Implementation</h3>
                        <ul class="space-y-2 text-dark-muted">
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Monitored login failures for 48 hours</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Verified all integrations working</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Documented final configuration</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Scheduled quarterly review</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Added to change control process</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚ñ°</span>
                                <span>Created runbook for common issues</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="mt-16 pt-8 border-t border-dark-border text-center text-dark-muted">
            <p class="mb-2">Salesforce IP Ranges Best Practices Guide</p>
            <p class="text-sm">Last Updated: January 2026</p>
            <p class="text-xs mt-4">This document provides general guidance. Always consult with your security team and Salesforce documentation for your specific needs.</p>
        </footer>
    </div>
</body>
</html>