<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home Construction — Framing & Basics</title>
  <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom splitter */
    #splitter {
      width: 6px;
      cursor: col-resize;
      background: linear-gradient(to bottom, #374151, #4b5563, #374151);
      transition: background-color 0.2s ease;
    }
    #splitter:hover,
    body.dragging #splitter {
      background-color: #60a5fa;
    }
    body.dragging {
      cursor: col-resize;
      user-select: none;
    }

    /* Highlight for search */
    .highlight {
      background-color: #ca8a04;
      color: #000;
      padding: 0 2px;
      border-radius: 2px;
    }

    /* Mobile sidebar toggle */
    @media (max-width: 768px) {
      #leftPane {
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
      }
      #leftPane.open {
        transform: translateX(0);
      }
    }
  </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen overflow-hidden flex flex-col">

  <!-- Mobile Header / Toggle -->
  <header class="md:hidden bg-slate-900 p-4 flex items-center justify-between border-b border-slate-700">
    <h1 class="text-lg font-bold">Home Construction Guide</h1>
    <button id="toggleSidebar" class="text-blue-400 hover:text-blue-300">
      ☰ Menu
    </button>
  </header>

  <div class="flex flex-1 overflow-hidden">
    <!-- LEFT SIDEBAR -->
    <aside
      id="leftPane"
      class="bg-slate-900 w-80 min-w-[260px] max-w-[420px] border-r border-slate-700 flex flex-col transition-all duration-300 md:relative fixed inset-y-0 left-0 z-30 md:z-auto h-full overflow-hidden"
    >
      <div class="p-5 border-b border-slate-700">
        <h2 class="text-xl font-bold text-blue-400">Topics</h2>
      </div>

      <div class="p-4">
        <input
          id="topicSearch"
          type="text"
          placeholder="Search topics..."
          class="w-full px-4 py-2.5 rounded-lg bg-slate-800 border border-slate-700 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition"
          autocomplete="off"
        />
      </div>

      <div class="flex-1 overflow-y-auto px-3 pb-6">
        <ul id="topicList" class="space-y-1.5"></ul>
      </div>
    </aside>

    <!-- SPLITTER (desktop only) -->
    <div id="splitter" class="hidden md:block"></div>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-auto bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 md:p-10">
      <div id="content" class="max-w-4xl mx-auto space-y-8">
        <div class="text-center py-16">
          <h1 class="text-4xl md:text-5xl font-bold text-blue-400 mb-4">
            Home Construction Guide
          </h1>
          <p class="text-slate-400 text-lg">
            Select a topic from the sidebar to begin learning.
          </p>
        </div>
      </div>
    </main>
  </div>

  <script>
    // ───────────────────────────────────────────────
    // Topics Data (easy to expand)
    // ───────────────────────────────────────────────
    const topics = [
      {
        id: "framing",
        title: "House Framing (Larry Haun)",
        color: "blue",
        content: `
          <h1 class="text-4xl md:text-5xl font-bold text-blue-400 mb-6">
            House Framing — Larry Haun
          </h1>
          <p class="text-slate-300 leading-relaxed mb-6">
            Larry Haun was a legendary American carpenter and production framer,
            best known for teaching efficient, practical house framing techniques.
            His books like <em>The Very Efficient Carpenter</em> and instructional videos
            have influenced generations of builders.
          </p>
          <div class="bg-slate-800/70 border border-slate-700 rounded-xl p-6 text-center mb-8">
            <p class="text-slate-300 mb-4">
              Video embedding restricted — open in YouTube
            </p>
            <a
              href="https://www.youtube.com/watch?v=GP-JfA5RPLs"
              target="_blank" rel="noopener noreferrer"
              class="inline-flex items-center gap-3 bg-blue-600 hover:bg-blue-500 px-6 py-3 rounded-lg font-semibold transition shadow-lg"
            >
              ▶ Watch Larry Haun Framing Video
            </a>
          </div>
          <p class="text-slate-300 leading-relaxed">
            In the video, Haun demonstrates foundation-to-roof framing with emphasis on
            speed, accuracy, minimal waste, and teamwork — using only basic tools like
            a hammer and circular saw. Highly recommended for both professionals and DIY builders.
          </p>
        `
      },
      {
        id: "foundation",
        title: "Foundation Basics",
        color: "green",
        content: `
          <h1 class="text-4xl md:text-5xl font-bold text-green-400 mb-6">
            Foundation Basics
          </h1>
          <p class="text-slate-300 leading-relaxed">
            The foundation is the lowest load-bearing part of a building. It transfers
            the structure's weight to the ground safely and evenly.
          </p>
          <ul class="list-disc list-inside text-slate-300 mt-6 space-y-3">
            <li><strong>Slab-on-grade</strong> — common in warm climates</li>
            <li><strong>Crawlspace</strong> — allows access under the house</li>
            <li><strong>Full basement</strong> — adds usable living space</li>
          </ul>
          <p class="text-slate-300 mt-6">
            Key considerations: soil type, drainage, frost line, reinforcement, and proper curing.
          </p>
        `
      },
      {
        id: "roofing",
        title: "Roofing 101",
        color: "yellow",
        content: `
          <h1 class="text-4xl md:text-5xl font-bold text-yellow-400 mb-6">
            Roofing 101
          </h1>
          <p class="text-slate-300 leading-relaxed">
            Roof framing includes rafters, trusses, ridge boards, collar ties,
            and roof sheathing. The design must resist wind, snow, seismic loads,
            and meet local building codes.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            <div class="bg-slate-800/50 p-5 rounded-xl border border-slate-700">
              <h3 class="text-xl font-semibold text-yellow-300 mb-3">Common Styles</h3>
              <ul class="list-disc list-inside space-y-1.5">
                <li>Gable</li>
                <li>Hip</li>
                <li>Shed / Skillion</li>
                <li>Gambrel</li>
              </ul>
            </div>
            <div class="bg-slate-800/50 p-5 rounded-xl border border-slate-700">
              <h3 class="text-xl font-semibold text-yellow-300 mb-3">Key Elements</h3>
              <ul class="list-disc list-inside space-y-1.5">
                <li>Ridge board / ridge beam</li>
                <li>Ceiling joists / collar ties</li>
                <li>Roof decking (plywood/OSB)</li>
                <li>Overhangs & soffits</li>
              </ul>
            </div>
          </div>
        `
      },
      {
        id: "codes",
        title: "Permits & Building Codes",
        color: "red",
        content: `
          <h1 class="text-4xl md:text-5xl font-bold text-red-400 mb-6">
            Permits & Building Codes
          </h1>
          <p class="text-slate-300 leading-relaxed">
            Building permits are required to ensure construction meets safety,
            structural, energy, and zoning standards. Skipping permits can lead
            to fines, forced removal, or insurance issues.
          </p>
          <div class="mt-8 space-y-6">
            <div class="bg-slate-800/70 p-6 rounded-xl border border-slate-700">
              <h3 class="text-xl font-semibold text-red-300 mb-4">Typical Inspection Stages</h3>
              <ul class="space-y-3 text-slate-300">
                <li>• Footing / foundation</li>
                <li>• Under-slab plumbing</li>
                <li>• Framing & rough-in</li>
                <li>• Insulation & drywall</li>
                <li>• Final inspection</li>
              </ul>
            </div>
            <p class="text-slate-400 italic">
              Always check with your local building department for specific requirements.
            </p>
          </div>
        `
      }
    ];

    // ───────────────────────────────────────────────
    // DOM Elements
    // ───────────────────────────────────────────────
    const topicList = document.getElementById("topicList");
    const topicSearch = document.getElementById("topicSearch");
    const contentDiv = document.getElementById("content");
    const toggleBtn = document.getElementById("toggleSidebar");
    const leftPane = document.getElementById("leftPane");

    // ───────────────────────────────────────────────
    // Render Topic List
    // ───────────────────────────────────────────────
    function renderTopics(filter = "") {
      topicList.innerHTML = "";

      topics
        .filter(t => t.title.toLowerCase().includes(filter.toLowerCase()))
        .forEach(topic => {
          const li = document.createElement("li");
          li.className = "topic cursor-pointer p-3.5 rounded-lg bg-slate-800 hover:bg-slate-700 transition text-slate-200 border border-slate-700";
          li.innerHTML = highlightText(topic.title, filter);
          li.onclick = () => selectTopic(topic.id);
          topicList.appendChild(li);
        });

      if (topicList.children.length === 0) {
        topicList.innerHTML = '<p class="text-slate-500 text-center py-8">No topics found</p>';
      }
    }

    // ───────────────────────────────────────────────
    // Highlight search matches
    // ───────────────────────────────────────────────
    function highlightText(text, query) {
      if (!query) return text;
      const regex = new RegExp(`(${query})`, "gi");
      return text.replace(regex, '<span class="highlight">$1</span>');
    }

    // ───────────────────────────────────────────────
    // Select & show topic content
    // ───────────────────────────────────────────────
    function selectTopic(id) {
      const topic = topics.find(t => t.id === id);
      if (!topic) return;

      contentDiv.innerHTML = topic.content;
      // Optional: close sidebar on mobile after selection
      if (window.innerWidth < 768) {
        leftPane.classList.remove("open");
      }
    }

    // ───────────────────────────────────────────────
    // Splitter (desktop)
    // ───────────────────────────────────────────────
    const splitter = document.getElementById("splitter");
    let dragging = false;

    splitter.addEventListener("mousedown", () => {
      dragging = true;
      document.body.classList.add("dragging");
    });

    document.addEventListener("mousemove", e => {
      if (!dragging) return;
      const min = 260;
      const max = 420;
      const width = Math.min(Math.max(e.clientX, min), max);
      leftPane.style.width = width + "px";
    });

    document.addEventListener("mouseup", () => {
      dragging = false;
      document.body.classList.remove("dragging");
    });

    // ───────────────────────────────────────────────
    // Mobile sidebar toggle
    // ───────────────────────────────────────────────
    toggleBtn?.addEventListener("click", () => {
      leftPane.classList.toggle("open");
    });

    // ───────────────────────────────────────────────
    // Search filter
    // ───────────────────────────────────────────────
    topicSearch.addEventListener("input", () => {
      renderTopics(topicSearch.value);
    });

    // ───────────────────────────────────────────────
    // Initialize
    // ───────────────────────────────────────────────
    renderTopics();
  </script>
</body>
</html>