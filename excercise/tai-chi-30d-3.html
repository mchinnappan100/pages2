<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>30-Day Tai Chi Plan for Beginners</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
        }

        .resizer {
            cursor: col-resize;
            background: linear-gradient(90deg, transparent, #f97316, transparent);
            transition: all 0.3s;
        }

        .resizer:hover {
            background: linear-gradient(90deg, transparent, #fb923c, transparent);
            width: 6px !important;
        }

        .day-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .day-card:hover {
            transform: translateX(8px);
        }

        .day-card.active {
            background: linear-gradient(135deg, #f97316, #ea580c);
            transform: translateX(8px);
        }

        .exercise-item {
            animation: fadeIn 0.4s ease-out forwards;
            opacity: 0;
        }

        .exercise-item:hover {
            background: rgba(249, 115, 22, 0.1);
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .calendar-day {
            transition: all 0.3s;
        }

        .calendar-day:hover {
            transform: scale(1.05);
        }

        .calendar-day.completed {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .calendar-day.today {
            border: 2px solid #f97316;
        }

        .scroll-shadow {
            box-shadow: inset 0 10px 20px -10px rgba(0,0,0,0.5);
        }

        input[type="checkbox"]:checked {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            animation: scaleIn 0.3s;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-image {
            max-width: 100%;
            max-height: 85vh;
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
        }

        .close-modal {
            position: absolute;
            top: -40px;
            right: 0;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(249, 115, 22, 0.8);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            background: rgba(251, 146, 60, 0.9);
            transform: rotate(90deg);
        }

        .info-icon {
            cursor: help;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: rgba(249, 115, 22, 0.2);
            border: 1px solid rgba(249, 115, 22, 0.5);
            font-size: 12px;
            margin-left: 6px;
            color: #fb923c;
            transition: all 0.3s;
        }

        .info-icon:hover {
            background: rgba(249, 115, 22, 0.4);
            transform: scale(1.1);
        }

        .tooltip {
            position: relative;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 280px;
            background-color: #1f2937;
            color: #e5e7eb;
            text-align: left;
            border-radius: 8px;
            padding: 10px 12px;
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            margin-left: -140px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 13px;
            line-height: 1.4;
            border: 1px solid #374151;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body class="text-gray-100">
    <!-- Header -->
    <header class="bg-gray-900/90 backdrop-blur-lg border-b border-gray-800 sticky top-0 z-50">
        <div class="px-6 py-4">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold bg-gradient-to-r from-orange-500 to-orange-300 bg-clip-text text-transparent">
                        30-Day Tai Chi Plan
                    </h1>
                    <p class="text-gray-400 text-sm mt-1">For Beginners</p>
                </div>
                <div class="flex gap-4">
                    <button onclick="showImagePopup()" class="px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-sm font-medium transition-all">
                        üñºÔ∏è View Day Image
                    </button>
                    <button onclick="resetProgress()" class="px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-sm font-medium transition-all">
                        Reset Progress
                    </button>
                    <button onclick="exportToCSV()" class="px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 rounded-lg text-sm font-medium transition-all shadow-lg">
                        üì• Export CSV
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="flex h-[calc(100vh-88px)]">
        <!-- Left Pane: Day List -->
        <div id="leftPane" class="bg-gray-900/50 backdrop-blur-sm border-r border-gray-800 overflow-y-auto scroll-shadow" style="width: 280px;">
            <div class="p-4">
                <h2 class="text-lg font-semibold mb-4 text-orange-400">Training Days</h2>
                <div id="dayList" class="space-y-2"></div>
            </div>
        </div>

        <!-- Resizer 1 -->
        <div class="resizer w-1 hover:w-2 bg-gray-800" onmousedown="initResize(event, 'left')"></div>

        <!-- Center Pane: Day Details -->
        <div id="centerPane" class="flex-1 overflow-y-auto scroll-shadow">
            <div class="p-8">
                <div id="dayDetails"></div>
            </div>
        </div>

        <!-- Resizer 2 -->
        <div class="resizer w-1 hover:w-2 bg-gray-800" onmousedown="initResize(event, 'right')"></div>

        <!-- Right Pane: Calendar -->
        <div id="rightPane" class="bg-gray-900/50 backdrop-blur-sm border-l border-gray-800 overflow-y-auto scroll-shadow" style="width: 320px;">
            <div class="p-4">
                <h2 class="text-lg font-semibold mb-4 text-orange-400">Progress Calendar</h2>
                <div id="calendar" class="grid grid-cols-5 gap-2"></div>
                <div class="mt-6 p-4 bg-gray-800/50 rounded-lg">
                    <h3 class="font-semibold mb-3">Statistics</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">Completed:</span>
                            <span id="statsCompleted" class="font-medium text-green-400">0/30</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Progress:</span>
                            <span id="statsProgress" class="font-medium text-orange-400">0%</span>
                        </div>
                        <div class="mt-3 bg-gray-900 rounded-full h-2 overflow-hidden">
                            <div id="progressBar" class="h-full bg-gradient-to-r from-orange-600 to-green-500 transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="modal" onclick="closeImageModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close-modal" onclick="closeImageModal()">&times;</span>
            <img id="modalImage" class="modal-image" src="" alt="Day Exercise Image">
        </div>
    </div>

    <script>
        const exerciseDescriptions = {
            "Warm-up": "Gentle movements to prepare your body. Rotate joints, stretch gently, and breathe deeply.",
            "Crane-Dips Artt": "Stand on one leg like a crane, dip down slowly while maintaining balance and posture.",
            "Overhead Swing": "Swing arms overhead in a controlled arc, engaging core and improving shoulder mobility.",
            "Repulse Monkey": "Step back while pushing hands forward, classic Tai Chi defensive move.",
            "Standing": "Static standing meditation to build leg strength and mental focus.",
            "Hand Push": "Push hands forward with controlled breathing, building upper body strength.",
            "Push up": "Standard push-ups modified for Tai Chi flow, maintaining slow controlled movement.",
            "Single Whip": "Classic Tai Chi posture with one hand in beak position, the other pushing.",
            "Crane Dips": "Controlled dips while standing on one leg, building balance and leg strength.",
            "Leg Raises": "Lift leg slowly to the front, maintaining balance and control.",
            "Stretch": "Full body stretching routine focusing on major muscle groups.",
            "Flame Kick": "High kick with pointed toes, like a flame reaching upward.",
            "Lotus": "Circular kick motion, leg traces a lotus flower pattern in the air.",
            "Air Squats": "Bodyweight squats with arms extended for balance.",
            "Wrap Squats": "Squat while wrapping arms around body in protective stance.",
            "Crane-to-Curl": "Transition from crane stance into bicep curl motion.",
            "Russian Twist": "Seated core rotation exercise for oblique strength.",
            "Donkey": "Kick back like a donkey while on all fours for leg strength.",
            "Dumbbell Table": "Tabletop position with dumbbell rows for back strength.",
            "Side Bends": "Lateral bending to strengthen obliques and improve flexibility.",
            "Leg Proms": "Leg promenade - walking with exaggerated high steps.",
            "Bicycle": "Bicycle crunch motion for core and obliques.",
            "Bodyup": "Pull-up or body elevation exercise.",
            "Butterfly Kick": "Legs move in butterfly pattern while lying down.",
            "High Squat": "Partial squat held at high position for endurance.",
            "Mountain Cl": "Mountain climbers - running motion in plank position.",
            "Warm-up Lunge": "Walking lunges to warm up legs and hips.",
            "Crane Curl": "Bicep curl while in crane stance for balance challenge.",
            "Crane-Up-Curl": "Moving from crane position while performing curl.",
            "Overhead Swing": "Dynamic arm swings overhead for mobility.",
            "Chest Comp": "Chest compression - bringing arms together in front.",
            "Overhead Press": "Pressing weight or hands overhead.",
            "Dumbbell Press": "Shoulder press with dumbbells.",
            "Push Up-pa": "Push-up with hand clap at top.",
            "Bicep Curls": "Standard bicep curls with controlled motion.",
            "Flutter Kick": "Small rapid kicks while lying on back.",
            "Plank": "Hold plank position for core strength.",
            "Sitting-twi": "Seated twisting motion for spine mobility.",
            "Defensive Ste": "Defensive stepping patterns, footwork practice.",
            "Punch": "Controlled punching motion with proper form.",
            "Side Plane": "Side plank hold for oblique strength.",
            "Sitting Reach": "Seated forward reach for flexibility.",
            "Chest-to-Grip": "Bringing chest to grip position, pull motion.",
            "Flow": "Continuous flowing movement through multiple poses.",
            "Step Up": "Step up onto elevated surface, one leg at a time.",
            "Barrel Roll": "Rolling motion like a barrel for mobility.",
            "Deadlift": "Proper form deadlift with dumbbells or bodyweight.",
            "Crunches": "Abdominal crunches for core strength.",
            "Reverse Curl": "Curl motion in reverse for different muscle engagement.",
            "Dumbbell Squa": "Squats while holding dumbbells.",
            "Jump Squat": "Explosive squat with jump at top.",
            "Star Plank": "Plank with arms and legs spread wide."
        };

        const taiChiPlan = {
            1: {
                title: "Warm-up & Basics",
                exercises: [
                    "10 Warm-up",
                    "10 Crane-Dips Artt",
                    "10 Overhead Swing",
                    "10 Repulse Monkey",
                    "5 Standing"
                ],
                image: "üßò",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day1.png"
            },
            2: {
                title: "Push & Single",
                exercises: [
                    "2-25 Hand Push",
                    "15 Push up",
                    "15 Single Whip",
                    "20 Crane Dips",
                    "10 Leg Raises"
                ],
                image: "ü¶µ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day2.png"
            },
            3: {
                title: "Kicks & Squats",
                exercises: [
                    "5-10 Stretch",
                    "10 Flame Kick",
                    "10 Lotus",
                    "10 Air Squats",
                    "5 Wrap Squats"
                ],
                image: "ü•ã",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day3.png"
            },
            4: {
                title: "Advanced Basics",
                exercises: [
                    "10 Warm-up",
                    "40 Crane-Dips Artt",
                    "10 Overhead Swing",
                    "10 Repulse Monkey",
                    "10 Standing"
                ],
                image: "üí™",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day4.png"
            },
            5: {
                title: "Push & Stability",
                exercises: [
                    "2-10 Hand Push",
                    "15 Crane-to-Curl",
                    "20 Single Whip",
                    "15 Russian Twist",
                    "15 Crane Dips"
                ],
                image: "üîÑ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day5.png"
            },
            6: {
                title: "Table & Proms",
                exercises: [
                    "5-15 Stretch",
                    "25 Donkey",
                    "10 Dumbbell Table",
                    "10 Side Bends",
                    "10 Leg Proms"
                ],
                image: "üèãÔ∏è",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day6.png"
            },
            7: {
                title: "Leg Focus",
                exercises: [
                    "30 Leg Raise",
                    "10 Bicycle",
                    "20 Bodyup",
                    "20 Butterfly Kick",
                    "30 Air Squats"
                ],
                image: "ü¶ø",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day7.png"
            },
            8: {
                title: "Squats & Stability",
                exercises: [
                    "2-25 Squat",
                    "10 Wrap Squat",
                    "25 High Squat",
                    "20 Mountain Cl",
                    "15 Crane-to-Curl"
                ],
                image: "‚ö°",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day8.png"
            },
            9: {
                title: "Curls & Swings",
                exercises: [
                    "15 Warm-up Lunge",
                    "10 Crane Curl",
                    "20 Crane-Up-Curl",
                    "20 Overhead Swing",
                    "10 Chest Comp"
                ],
                image: "üåä",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day9.png"
            },
            10: {
                title: "Push & Core",
                exercises: [
                    "25 Overhead Press",
                    "30 Dumbbell Press",
                    "30 Push Up-pa",
                    "30 Bicep Curls",
                    "20 Crane Dips"
                ],
                image: "üí•",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day10.png"
            },
            11: {
                title: "Balance & Kicks",
                exercises: [
                    "2-12 Stretch",
                    "30 Flame Kick",
                    "15 Flutter Kick",
                    "25 Plank",
                    "20 Sitting-twi"
                ],
                image: "‚öñÔ∏è",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day11.png"
            },
            12: {
                title: "Defense Moves",
                exercises: [
                    "2-20 Defensive Ste",
                    "15 Punch",
                    "10 Side Plane",
                    "10 Sitting Reach",
                    "15 Push up"
                ],
                image: "üõ°Ô∏è",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day12.png"
            },
            13: {
                title: "Flow Practice",
                exercises: [
                    "2-25 Flow",
                    "15 Wrap Squat",
                    "22 Step Up",
                    "10 Lotus",
                    "15 Leg Raise"
                ],
                image: "üåÄ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day13.png"
            },
            14: {
                title: "Barrel & Table",
                exercises: [
                    "15 Barrel Roll",
                    "40 Crane Dips",
                    "25 Deadlift",
                    "10 Dumbbell Table",
                    "25 Bodyup"
                ],
                image: "üéØ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day14.png"
            },
            15: {
                title: "Leg Strength",
                exercises: [
                    "30 Leg Raise",
                    "20 Bodyup",
                    "25 Crunches",
                    "20 Butterfly Kick",
                    "35 Leg Raise"
                ],
                image: "üî•",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day15.png"
            },
            16: {
                title: "Squats & Curls",
                exercises: [
                    "2-25 Squat",
                    "10 Wrap Squat",
                    "20 Reverse Curl",
                    "10 Deadlift",
                    "15 Flutter Kick"
                ],
                image: "üí´",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day16.png"
            },
            17: {
                title: "Warm-up & Singles",
                exercises: [
                    "15 Warm-up Lunge",
                    "10 Crane Curl",
                    "20 Dumbbell Squa",
                    "20 Jump Squat",
                    "15 Chest Comp"
                ],
                image: "üé™",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day17.png"
            },
            18: {
                title: "Press & Plank",
                exercises: [
                    "25 Overhead Press",
                    "25 Dumbbell Press",
                    "20 Star Plank",
                    "20 Leg Raise",
                    "15 Bicep Curls"
                ],
                image: "‚≠ê",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day18.png"
            },
            19: {
                title: "Balance & Core",
                exercises: [
                    "2-12 Stretch",
                    "35 Flame Kick",
                    "35 Leg Raise",
                    "30 Plank",
                    "25 Sitting-twi"
                ],
                image: "üåü",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day19.png"
            },
            20: {
                title: "Recovery Week",
                exercises: [
                    "Gentle stretching",
                    "Light movement",
                    "Meditation",
                    "Breathing exercises"
                ],
                image: "üßò‚Äç‚ôÄÔ∏è",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day20.png"
            },
            21: {
                title: "Resume Training",
                exercises: [
                    "10 Warm-up",
                    "15 Crane Dips",
                    "15 Push up",
                    "20 Leg Raises"
                ],
                image: "üöÄ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day21.png"
            },
            22: {
                title: "Full Flow",
                exercises: [
                    "Complete form practice",
                    "30 minutes continuous",
                    "Focus on transitions"
                ],
                image: "üåä",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day22.png"
            },
            23: {
                title: "Strength Focus",
                exercises: [
                    "25 Push up",
                    "30 Squats",
                    "20 Crane Dips",
                    "15 Deadlift"
                ],
                image: "üí™",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day23.png"
            },
            24: {
                title: "Flexibility",
                exercises: [
                    "Deep stretching",
                    "Hip openers",
                    "Shoulder mobility",
                    "Balance poses"
                ],
                image: "ü§∏",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day24.png"
            },
            25: {
                title: "Core Intensive",
                exercises: [
                    "50 Crunches",
                    "30 Leg Raises",
                    "45s Plank x3",
                    "20 Russian Twist"
                ],
                image: "üî•",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day25.png"
            },
            26: {
                title: "Kicks & Stances",
                exercises: [
                    "40 Flame Kick",
                    "30 Lotus",
                    "Stance practice",
                    "Balance drills"
                ],
                image: "ü•ã",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day26.png"
            },
            27: {
                title: "Power Combinations",
                exercises: [
                    "Combo sequences",
                    "Explosive movements",
                    "Speed training",
                    "Flow practice"
                ],
                image: "‚ö°",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day27.png"
            },
            28: {
                title: "Endurance Test",
                exercises: [
                    "45 min continuous",
                    "Full routine",
                    "All techniques",
                    "Minimal rest"
                ],
                image: "üèÉ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day28.png"
            },
            29: {
                title: "Refinement",
                exercises: [
                    "Form corrections",
                    "Slow practice",
                    "Breathing focus",
                    "Meditation"
                ],
                image: "‚ú®",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day29.png"
            },
            30: {
                title: "Final Assessment",
                exercises: [
                    "Complete demonstration",
                    "Self-evaluation",
                    "Goal review",
                    "Celebration!"
                ],
                image: "üéâ",
                imageUrl: "https://raw.githubusercontent.com/mchinnappan100/npmjs-images/main/md-viewer/taichi-day30.png"
            }
        };

        let currentDay = 1;
        let completedDays = JSON.parse(localStorage.getItem('taiChiProgress')) || {};

        // Initialize the app
        function init() {
            renderDayList();
            renderCalendar();
            showDay(1);
            updateStats();
        }

        // Render day list
        function renderDayList() {
            const dayList = document.getElementById('dayList');
            dayList.innerHTML = '';
            
            for (let i = 1; i <= 30; i++) {
                const day = taiChiPlan[i];
                const isCompleted = completedDays[i];
                const div = document.createElement('div');
                div.className = `day-card p-3 rounded-lg cursor-pointer border border-gray-800 ${currentDay === i ? 'active' : 'bg-gray-800/30 hover:bg-gray-800/50'}`;
                div.onclick = () => showDay(i);
                
                div.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">${day.image}</span>
                            <div>
                                <div class="font-semibold text-sm">Day ${i}</div>
                                <div class="text-xs text-gray-400">${day.title}</div>
                            </div>
                        </div>
                        ${isCompleted ? '<span class="text-green-400">‚úì</span>' : ''}
                    </div>
                `;
                
                dayList.appendChild(div);
            }
        }

        // Show day details
        function showDay(dayNum) {
            currentDay = dayNum;
            const day = taiChiPlan[dayNum];
            const isCompleted = completedDays[dayNum];
            
            document.getElementById('dayDetails').innerHTML = `
                <div class="max-w-3xl">
                    <div class="flex items-center gap-4 mb-6">
                        <span class="text-6xl">${day.image}</span>
                        <div>
                            <h2 class="text-4xl font-bold bg-gradient-to-r from-orange-400 to-orange-200 bg-clip-text text-transparent">
                                Day ${dayNum}
                            </h2>
                            <p class="text-xl text-gray-400 mt-1">${day.title}</p>
                        </div>
                    </div>
                    
                    <div class="bg-gray-800/30 backdrop-blur-sm rounded-xl p-6 border border-gray-700">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold text-orange-400">Today's Exercises</h3>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" 
                                       ${isCompleted ? 'checked' : ''} 
                                       onchange="toggleDay(${dayNum})"
                                       class="w-5 h-5 rounded border-gray-600 text-green-500 focus:ring-orange-500 focus:ring-2">
                                <span class="text-sm font-medium">Mark as Complete</span>
                            </label>
                        </div>
                        
                        <div class="space-y-3">
                            ${day.exercises.map((exercise, idx) => {
                                const exerciseName = exercise.replace(/^\d+-?\d*\s*/, '').trim();
                                const description = getExerciseDescription(exerciseName);
                                return `
                                <div class="exercise-item flex items-center gap-3 p-3 bg-gray-900/50 rounded-lg" style="animation-delay: ${idx * 0.1}s">
                                    <span class="flex-shrink-0 w-8 h-8 rounded-full bg-orange-600/20 border border-orange-600/50 flex items-center justify-center text-sm font-medium text-orange-400">
                                        ${idx + 1}
                                    </span>
                                    <span class="text-gray-200 flex-1">${exercise}</span>
                                    ${description ? `
                                        <div class="tooltip">
                                            <span class="info-icon">i</span>
                                            <span class="tooltiptext">${description}</span>
                                        </div>
                                    ` : ''}
                                </div>
                            `}).join('')}
                        </div>
                    </div>
                    
                    <div class="flex gap-4 mt-6">
                        ${dayNum > 1 ? `
                            <button onclick="showDay(${dayNum - 1})" 
                                    class="px-6 py-3 bg-gray-800 hover:bg-gray-700 rounded-lg font-medium transition-all">
                                ‚Üê Previous Day
                            </button>
                        ` : ''}
                        ${dayNum < 30 ? `
                            <button onclick="showDay(${dayNum + 1})" 
                                    class="px-6 py-3 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 rounded-lg font-medium transition-all ml-auto">
                                Next Day ‚Üí
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
            
            renderDayList();
        }

        // Get exercise description
        function getExerciseDescription(exerciseName) {
            for (const [key, value] of Object.entries(exerciseDescriptions)) {
                if (exerciseName.toLowerCase().includes(key.toLowerCase())) {
                    return value;
                }
            }
            return null;
        }

        // Show image popup
        function showImagePopup() {
            const day = taiChiPlan[currentDay];
            if (day.imageUrl) {
                document.getElementById('modalImage').src = day.imageUrl;
                document.getElementById('imageModal').classList.add('active');
            }
        }

        // Close image modal
        function closeImageModal() {
            document.getElementById('imageModal').classList.remove('active');
        }

        // Close modal on ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeImageModal();
            }
        });

        // Toggle day completion
        function toggleDay(dayNum) {
            if (completedDays[dayNum]) {
                delete completedDays[dayNum];
            } else {
                completedDays[dayNum] = true;
            }
            localStorage.setItem('taiChiProgress', JSON.stringify(completedDays));
            renderCalendar();
            renderDayList();
            updateStats();
        }

        // Render calendar
        function renderCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            for (let i = 1; i <= 30; i++) {
                const isCompleted = completedDays[i];
                const isToday = i === currentDay;
                const div = document.createElement('div');
                div.className = `calendar-day p-3 rounded-lg text-center cursor-pointer ${
                    isCompleted ? 'completed' : 'bg-gray-800/50 hover:bg-gray-800'
                } ${isToday ? 'today' : ''}`;
                div.onclick = () => showDay(i);
                
                div.innerHTML = `
                    <div class="text-xs text-gray-400 mb-1">Day</div>
                    <div class="text-lg font-bold">${i}</div>
                    ${isCompleted ? '<div class="text-xs text-green-300 mt-1">‚úì</div>' : ''}
                `;
                
                calendar.appendChild(div);
            }
        }

        // Update statistics
        function updateStats() {
            const completed = Object.keys(completedDays).length;
            const progress = Math.round((completed / 30) * 100);
            
            document.getElementById('statsCompleted').textContent = `${completed}/30`;
            document.getElementById('statsProgress').textContent = `${progress}%`;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        // Export to CSV
        function exportToCSV() {
            let csv = 'Day,Title,Status,Exercises\n';
            
            for (let i = 1; i <= 30; i++) {
                const day = taiChiPlan[i];
                const status = completedDays[i] ? 'Completed' : 'Pending';
                const exercises = day.exercises.join('; ');
                csv += `${i},"${day.title}",${status},"${exercises}"\n`;
            }
            
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `taichi-progress-${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Reset progress
        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress?')) {
                completedDays = {};
                localStorage.removeItem('taiChiProgress');
                renderCalendar();
                renderDayList();
                updateStats();
            }
        }

        // Pane resizing
        let isResizing = false;
        let currentResizer = null;

        function initResize(e, side) {
            isResizing = true;
            currentResizer = side;
            document.body.style.cursor = 'col-resize';
            document.addEventListener('mousemove', resize);
            document.addEventListener('mouseup', stopResize);
        }

        function resize(e) {
            if (!isResizing) return;
            
            if (currentResizer === 'left') {
                const newWidth = e.clientX;
                if (newWidth >= 200 && newWidth <= 400) {
                    document.getElementById('leftPane').style.width = newWidth + 'px';
                }
            } else if (currentResizer === 'right') {
                const newWidth = window.innerWidth - e.clientX;
                if (newWidth >= 250 && newWidth <= 500) {
                    document.getElementById('rightPane').style.width = newWidth + 'px';
                }
            }
        }

        function stopResize() {
            isResizing = false;
            currentResizer = null;
            document.body.style.cursor = 'default';
            document.removeEventListener('mousemove', resize);
            document.removeEventListener('mouseup', stopResize);
        }

        // Initialize on load
        init();
    </script>
</body>
</html>