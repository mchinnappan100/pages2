<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Screen Recorder with Webcam & Preview</title>
    <style>
        .help-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .preview-info {
            background: #e7f3ff;
            border-left: 4px solid #007bff;
            padding: 10px;
            margin: 10px 0;
        }

        .webcam-info {
            background: #f0fff4;
            border-left: 4px solid #28a745;
            padding: 10px;
            margin: 10px 0;
        }

        #toggle {
            display: none;
        }

        label[for="toggle"] {
            cursor: pointer;
            background: #007bff;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            margin-left: 10px;
        }

        aside {
            display: none;
            margin-top: 20px;
        }

        #toggle:checked~aside {
            display: block;
        }

        .param-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 8px;
            font-family: monospace;
            margin: 5px 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="jumbotron">
                    <h1 class="display-4">üìπüé• Screen + Webcam Recorder</h1>
                    <p class="lead">Record your screen with audio, optional webcam overlay, and preview windows</p>

                    <div class="btn-group" style="margin: 20px 0;">
                        <button type="button" class="btn btn-info" id="start">
                            Start Screen Recording with Audio
                        </button>
                        <a id="download" style="display: none;"></a>
                    </div>

                    <div class="webcam-info">
                        <strong>üÜï Webcam Feature:</strong>
                        Add <code>?webcam=true</code> to include your webcam in picture-in-picture style!
                        <br>
                        <small>Example: <code>sra.html?webcam=true&webcamsize=medium&preview=true</code></small>
                    </div>

                    <div class="preview-info">
                        <strong>üé¨ Preview Feature:</strong>
                        Add <code>?preview=true</code> to enable draggable preview windows
                        <br>
                        <small>Example: <code>sra.html?preview=true&f=myRecording</code></small>
                    </div>
                </div>
            </div>
        </div>

        <label for="toggle">‚ùî Help & Options</label>
        <input type="checkbox" id="toggle">

        <aside class="help-section">
            <h3>üìã Usage Instructions</h3>

            <div class="row">
                <div class="col-md-6">
                    <h5>üéØ URL Parameters:</h5>
                    <ul>
                        <li><code>f=filename</code> - Set custom filename</li>
                        <li><code>preview=true</code> - Enable preview windows</li>
                        <li><code>webcam=true</code> - Include webcam overlay</li>
                        <li><code>webcamsize=small|medium|large</code> - Webcam size (default: small)</li>
                    </ul>

                    <h6>üìù Example URLs:</h6>
                    <div class="param-example">sra.html?f=demo</div>
                    <div class="param-example">sra.html?webcam=true&preview=true</div>
                    <div class="param-example">sra.html?f=meeting&webcam=true&webcamsize=large</div>
                    <div class="param-example">sra.html?preview=true&webcam=true&webcamsize=medium&f=tutorial</div>
                </div>

                <div class="col-md-6">
                    <h5>üé• Webcam Features:</h5>
                    <ul>
                        <li><strong>Picture-in-Picture:</strong> Webcam appears in bottom-right corner</li>
                        <li><strong>Sizes:</strong> small (160x120), medium (240x180), large (320x240)</li>
                        <li><strong>Auto-fallback:</strong> Records screen-only if webcam access denied</li>
                        <li><strong>Separate preview:</strong> Green-bordered webcam preview window</li>
                    </ul>

                    <h5>üñ±Ô∏è Preview Windows:</h5>
                    <ul>
                        <li><strong>Main Preview:</strong> Blue border, shows combined output</li>
                        <li><strong>Webcam Preview:</strong> Green border, shows webcam only</li>
                        <li>Both are draggable and closable</li>
                        <li>Real-time recording indicators</li>
                    </ul>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-md-12">
                    <div class="alert alert-info">
                        <h6>üéß Audio Tips:</h6>
                        <p class="mb-1">üéµ Use headset to avoid echo issues!</p>
                        <p class="mb-1">üé§ The recorder will ask for both screen sharing and microphone permissions</p>
                        <p class="mb-0">üìπ If webcam is enabled, it will also ask for camera permission</p>
                    </div>
                </div>
            </div>

            <hr>

            <h5>üîß Additional Tools:</h5>
            <ul>
                <li>
                    <a class='btn btn-light btn-sm' href='../media-convert.html'>
                        üîÑ How to convert webm file to gif or mp4?
                    </a>
                </li>
                <li style="margin-top: 10px;">
                    <strong>Permission Requirements:</strong>
                    <ul>
                        <li>üì∫ Screen sharing permission (always required)</li>
                        <li>üé§ Microphone permission (for audio)</li>
                        <li>üìπ Camera permission (only if webcam=true)</li>
                    </ul>
                </li>
                <li style="margin-top: 10px;">
                    <strong>Screen Recording Permission issue in Mac OS:</strong>
                    <br>
                    <img height="200" src='img/sr-perm.png' alt="Mac permission settings"
                        style="margin-top: 10px; border: 1px solid #ddd; border-radius: 4px;" />
                </li>
            </ul>

            <div class="alert alert-warning mt-3">
                <h6>‚ö†Ô∏è Browser Compatibility:</h6>
                <p class="mb-1">‚úÖ Chrome/Edge: Full support for all features</p>
                <p class="mb-1">‚úÖ Firefox: Full support for all features</p>
                <p class="mb-0">‚ùå Safari: Limited screen capture support</p>
            </div>
        </aside>
    </div>
    <script src="./sra.js"></script>

</body>

</html>