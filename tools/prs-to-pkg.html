<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PRs to Package.xml Tool</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico">
  <!-- Prism.js CSS for syntax highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    main {
      flex: 1;
    }
    html {
      scroll-behavior: smooth;
    }
    img {
      border: 5px solid #ccc;
      border-radius: 8px;
      box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
      margin: 10px;
      max-width: 100%;
      height: auto;
      display: block;
    }
    /* Style for copy button */
    .copy-btn {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      transition: background-color 0.2s;
    }
    .copy-btn:hover {
      background-color: #2563eb;
    }
    pre {
      position: relative;
      background-color: #f4f4f4;
      padding: 2rem 1rem 1rem;
      border-radius: 0.5rem;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <!-- Sticky Navbar -->
  <nav class="bg-blue-600 text-white shadow-lg sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
      <div class="text-2xl font-bold">
        <a href="#home">PRs to Package.xml</a>
      </div>
      <div class="space-x-4">
        <a href="#home" class="hover:text-blue-200">Home</a>
        <a href="#features" class="hover:text-blue-200">Features</a>
        <a href="#how-to-use" class="hover:text-blue-200">How to Use</a>
        <a href="https://github.com/mchinnappan100/prs-to-packagexml" class="bg-blue-500 px-4 py-2 rounded hover:bg-blue-400">View on GitHub</a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section id="home" class="bg-gradient-to-r from-blue-500 to-blue-700 text-white py-20">
      <div class="max-w-6xl mx-auto px-4 text-center">
        <h1 class="text-5xl font-bold mb-4">PRs to Package.xml Tool</h1>
        <p class="text-xl mb-8">A bash utility for Salesforce developers to generate <code>package.xml</code> files from GitHub Pull Requests, streamlining metadata deployments.</p>
        <a href="https://github.com/mchinnappan100/prs-to-packagexml" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200">Get Started</a>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-gray-800 text-center mb-12">Features</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <!-- Feature 1 -->
          <div class="bg-white p-6 rounded-lg shadow-md text-center">
            <div class="text-blue-600 text-4xl mb-4">üìú</div>
            <h3 class="text-xl font-semibold mb-2">PR Extraction</h3>
            <p class="text-gray-600">Extracts details from specified GitHub PRs into a CSV for metadata analysis.</p>
          </div>
          <!-- Feature 2 -->
          <div class="bg-white p-6 rounded-lg shadow-md text-center">
            <div class="text-blue-600 text-4xl mb-4">üì¶</div>
            <h3 class="text-xl font-semibold mb-2">Package.xml Generation</h3>
            <p class="text-gray-600">Generates <code>package.xml</code> for added, modified, renamed, and deleted components.</p>
          </div>
          <!-- Feature 3 -->
          <div class="bg-white p-6 rounded-lg shadow-md text-center">
            <div class="text-blue-600 text-4xl mb-4">üìã</div>
            <h3 class="text-xl font-semibold mb-2">Clipboard Support</h3>
            <p class="text-gray-600">Copies generated <code>package.xml</code> to the clipboard for easy pasting.</p>
          </div>
          <!-- Feature 4 -->
          <div class="bg-white p-6 rounded-lg shadow-md text-center">
            <div class="text-blue-600 text-4xl mb-4">üåê</div>
            <h3 class="text-xl font-semibold mb-2">Bundle Tool Integration</h3>
            <p class="text-gray-600">Opens a web-based package bundle tool to visualize and manage metadata.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- How to Use Section -->
    <section id="how-to-use" class="py-16">
      <div class="max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-gray-800 mb-8">How to Use</h2>
        <p class="text-gray-600 mb-6">Follow these steps to set up and run the PRs to Package.xml tool:</p>
        <div class="space-y-6">
          <!-- Step 1 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 1: Clone the Repository</h3>
            <p class="text-gray-600 mb-4">Clone the <code>prs-to-packagexml</code> repository from GitHub:</p>
            <pre>
              <code class="language-bash">
cd
git clone https://github.com/mchinnappan100/prs-to-packagexml.git
cd prs-to-packagexml
              </code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
          </div>
          <!-- Step 2 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 2: Set Up Scripts Directory</h3>
            <p class="text-gray-600 mb-4">Create the scripts directory at <code>~/prs-2-xml/scripts</code> and copy the required files from the cloned repository:</p>
            <pre>
              <code class="language-bash">
mkdir -p ~/prs-2-xml/scripts
cp pr_info.sh diffy-pkg-gen.py metadata_mapping.json ~/prs-2-xml/scripts/
              </code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
            <p class="text-gray-600 mt-4">Note: If <code>~/prs-2-xml/scripts</code> already exists, ensure it doesn‚Äôt contain conflicting files before copying.</p>
          </div>
          <!-- Step 3 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 3: Make the Script Executable</h3>
            <p class="text-gray-600 mb-4">Set executable permissions for the script:</p>
            <pre>
              <code class="language-bash">
chmod +x prs-to-pkg-vscode-bash-local.sh
              </code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
          </div>
          <!-- Step 4 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 4: Install the Script</h3>
            <p class="text-gray-600 mb-4">Copy the script to <code>/usr/local/bin</code> for global access (requires sudo):</p>
            <pre>
              <code class="language-bash">
sudo cp prs-to-pkg-vscode-bash-local.sh /usr/local/bin
              </code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
          </div>
          <!-- Step 5 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 5: Navigate to Your Git Repository</h3>
            <p class="text-gray-600 mb-4">Go to your Salesforce project‚Äôs Git repository and check out the desired branch (e.g., <code>develop</code>):</p>
            <pre>
              <code class="language-bash">
cd /path/to/your/repo
git checkout develop

# Make sure you logged into the GitHub account with access to the repo
gh auth login
? What account do you want to log into? GitHub Enterprise Server
? GHE hostname: github.example.com
? What is your preferred protocol for Git operations on this host? HTTPS
? Authenticate Git with your GitHub credentials? No
? How would you like to authenticate GitHub CLI? Login with a web browser
! First copy your one-time code: 7BDA-1334
Press Enter to open github.example.com in your browser...
‚úì Authentication complete.
‚úì Configured git protocol
‚úì Logged in as username
#-----------------------------
</code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
          </div>
          <!-- Step 6 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 6: Run the Tool</h3>
            <p class="text-gray-600 mb-4">Execute the tool with a comma-separated list of PR numbers:</p>
            <pre>
              <code class="language-bash">
prs-to-pkg-vscode-bash-local.sh -p 1344,1356
              </code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
            <p class="text-gray-600 mt-4">The tool will:</p>
            <ul class="list-disc list-inside text-gray-600">
              <li>Extract PR details to a CSV.</li>
              <li>Display relevant changes.</li>
              <li>Generate <code>package.xml</code> for added/modified/renamed components and copy it to the clipboard.</li>
              <li>Open the package bundle tool in your browser.</li>
              <li>Generate <code>package.xml</code> for deleted components.</li>
            </ul>
          </div>
          <!-- Step 7 -->
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-800 mb-2">üîπ Step 7: Use the Output</h3>
            <p class="text-gray-600 mb-4">Paste the clipboard content into your SFDX project or use the bundle tool to finalize your deployment package. Deploy using:</p>
            <pre>
              <code class="language-bash">
sf project deploy start -m package.xml -o your-org-alias
              </code>
              <button class="copy-btn bg-blue-600 text-white px-2 py-1 rounded text-sm" onclick="copyCode(this)">Copy</button>
            </pre>
          </div>
        </div>
        <div class="mt-8">
          <h3 class="text-xl font-semibold text-gray-800 mb-4">Prerequisites</h3>
          <p class="text-gray-600">Ensure the following are installed and configured:</p>
          <ul class="list-disc list-inside text-gray-600">
            <li><code>bash</code> (available on macOS/Linux).</li>
            <li><code>python3</code> for running <code>diffy-pkg-gen.py</code>.</li>
            <li>Scripts in <code>~/prs-2-xml/scripts</code>: <code>pr_info.sh</code>, <code>diffy-pkg-gen.py</code>, <code>metadata_mapping.json</code> (copied in Step 2).</li>
            <li>A GitHub repository with PRs containing Salesforce metadata changes.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-blue-600 text-white py-6">
    <div class="max-w-6xl mx-auto px-4 text-center">
      <p>Made with ‚ù§Ô∏è in <a href="https://en.wikipedia.org/wiki/New_Hampshire" class="text-blue-200 hover:underline">New Hampshire</a> by <a href="https://mohan-chinnappan-n.github.io/about/cv.html" class="text-blue-200 hover:underline">mc</a></p>
    </div>
  </footer>

  <!-- Prism.js for syntax highlighting -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <!-- Clipboard copy script -->
  <script>
    function copyCode(button) {
      const code = button.previousElementSibling.textContent;
      navigator.clipboard.writeText(code.trim()).then(() => {
        button.textContent = 'Copied!';
        button.classList.add('bg-green-600');
        setTimeout(() => {
          button.textContent = 'Copy';
          button.classList.remove('bg-green-600');
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy:', err);
        button.textContent = 'Error';
        button.classList.add('bg-red-600');
        setTimeout(() => {
          button.textContent = 'Copy';
          button.classList.remove('bg-red-600');
        }, 2000);
      });
    }
  </script>
</body>
</html>
