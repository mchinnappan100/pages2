<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whitepaper: Designing Composite APIs for Enterprises</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico">
    <!-- Mermaid.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        // Initialize Mermaid with custom theme to match Tailwind
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#99ccff',
                secondaryColor: '#ffcc99',
                tertiaryColor: '#f3f4f6',
                lineColor: 'black',
                textColor: '#333333',
                fontFamily: 'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
            }
        });
    </script>
    <style>
        /* Ensure sticky footer works */
        html, body {
            height: 100%;
            margin: 0;
        }
        #app {
            min-height: 100%;
            display: flex;
            flex-direction: column;
        }
        main {
            flex: 1 0 auto;
        }
        footer {
            flex-shrink: 0;
        }
        /* Mermaid diagram styling */
        .mermaid {
            @apply bg-white p-4 rounded-lg shadow-md my-4;
            max-width: 100%;
            overflow-x: auto;
        }
        /* Code block styling */
        pre {
            @apply bg-gray-100 p-4 rounded-lg my-4 overflow-x-auto;
        }
        code {
            @apply font-mono text-sm;
        }
        /* Table styling */
        .overflow-x-auto {
            @apply max-w-full;
        }
        table {
            @apply min-w-full bg-white border border-gray-200 rounded-xl shadow-lg;
        }
        th, td {
            @apply border border-gray-200 px-6 py-4 text-left;
        }
        th {
            @apply bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold uppercase tracking-wider;
        }
        tbody tr {
            @apply hover:bg-blue-50 transition-colors duration-200;
        }
        tbody tr:nth-child(even) {
            @apply bg-gray-50;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div id="app" class="flex flex-col min-h-screen">
        <!-- Sticky Header -->
        <header class="bg-gradient-to-r from-blue-700 via-indigo-800 to-purple-900 text-white sticky top-0 z-50 shadow-md">
            <div class="container mx-auto px-4 py-6 flex justify-between items-center">
                <h1 class="text-2xl font-bold">Designing Composite APIs for Enterprises Whitepaper</h1>
                <nav>
                    <ul class="list-none flex space-x-4">
                        <li><a href="#introduction" class="hover:text-blue-300">Introduction</a></li>
                        <li><a href="#features" class="hover:text-blue-300">Key Principles</a></li>
                        <li><a href="#architecture" class="hover:text-blue-300">Architecture</a></li>
                        <li><a href="#implementation" class="hover:text-blue-300">Best Practices</a></li>
                        <li><a href="#conclusion" class="hover:text-blue-300">Benefits & Conclusion</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8 flex-1">
            <!-- Introduction -->
            <section id="introduction" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800">Introduction to Composite APIs</h2>
                <p class="text-gray-700 leading-relaxed">
                    Composite APIs, also known as aggregated or orchestrated APIs, combine multiple backend API calls into a single endpoint to deliver a unified response tailored to client needs. In enterprise ecosystems, they streamline interactions, reduce client-side complexity, and enhance performance by minimizing network round-trips. This whitepaper explores the principles, architecture, and best practices for designing composite APIs, drawing inspiration from platforms like Salesforce, AWS, and GraphQL implementations. Learn more about API orchestration at <a href="https://www.openapis.org/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">OpenAPI Initiative</a>.
                </p>
            </section>

            <!-- Key Principles -->
            <section id="features" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800">Key Principles of Composite API Design</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Designing effective composite APIs requires principles that balance flexibility, efficiency, and maintainability. Below are the core principles:
                </p>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-xl shadow-lg">
                        <thead class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white">
                            <tr>
                                <th scope="col" class="px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider rounded-tl-xl">Principle</th>
                                <th scope="col" class="px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider">Description</th>
                                <th scope="col" class="px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider rounded-tr-xl">Benefit</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Aggregation</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Combines multiple backend API responses into one.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Reduces client-side requests, improves performance.</td>
                            </tr>
                            <tr class="bg-gray-50 hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Client-Centric Design</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Tailors responses to specific client requirements.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Enhances usability, simplifies client logic.</td>
                            </tr>
                            <tr class="hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Orchestration</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Manages dependencies and sequencing of backend calls.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Ensures reliable, predictable responses.</td>
                            </tr>
                            <tr class="bg-gray-50 hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Security</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Applies unified authentication and authorization.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Protects sensitive data across services.</td>
                            </tr>
                            <tr class="hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Documentation</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Provides clear specs for composite endpoints.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Accelerates developer adoption.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="text-gray-700 leading-relaxed mb-4 mt-4">
                    Example: An e-commerce platform uses a composite API to fetch customer details, order history, and product availability in a single `/customer-profile` endpoint.
                </p>
                <div class="mermaid">
graph TD
    A[Composite API Principles] --> B[Aggregation]
    A --> C[Client-Centric Design]
    A --> D[Orchestration]
    A --> E[Security]
    A --> F[Documentation]
    B --> G[Unified Response]
    C --> H[Tailored Data]
    D --> I[Dependency Management]
    E --> J[OAuth 2.0]
    F --> K[OpenAPI Specs]
</div>
                <p class="text-gray-700 leading-relaxed mt-4">
                    This diagram illustrates how composite API principles streamline enterprise integration.
                </p>
            </section>

            <!-- Architecture -->
            <section id="architecture" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800">Architecture of Composite APIs</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Composite APIs rely on a layered architecture that orchestrates multiple backend services through an API gateway or orchestration layer, delivering a unified response to clients.
                </p>
                <h3 class="text-2xl font-semibold mb-2 text-gray-700">Core Components</h3>
                <ul class="list-disc pl-6 mb-4 text-gray-700 leading-relaxed space-y-2">
                    <li><strong>API Gateway</strong>: Routes requests, handles authentication, and rate limiting (e.g., AWS API Gateway, MuleSoft).</li>
                    <li><strong>Orchestration Layer</strong>: Coordinates calls to multiple backend APIs, aggregates responses.</li>
                    <li><strong>Backend Services</strong>: Microservices or legacy systems providing raw data.</li>
                    <li><strong>Data Transformation</strong>: Maps and filters data to match client needs.</li>
                    <li><strong>Developer Portal</strong>: Offers documentation and testing tools for composite endpoints.</li>
                </ul>
                <h3 class="text-2xl font-semibold mb-2 text-gray-700">Example: Customer Profile API</h3>
                <pre><code>
# OpenAPI 3.0 Specification for Customer Profile Composite API
openapi: 3.0.3
info:
  title: Customer Profile Composite API
  version: 1.0.0
paths:
  /customer-profile/{customerId}:
    get:
      summary: Retrieve customer profile with orders and preferences
      security:
        - OAuth2: [read:profile]
      parameters:
        - name: customerId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Customer profile retrieved
          content:
            application/json:
              schema:
                type: object
                properties:
                  customer:
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                  orders:
                    type: array
                    items:
                      type: object
                      properties:
                        orderId:
                          type: string
                        status:
                          type: string
                  preferences:
                    type: object
                    properties:
                      notifications:
                        type: boolean
components:
  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://auth.example.com/oauth/authorize
          tokenUrl: https://auth.example.com/oauth/token
</code></pre>
                <p class="text-gray-700 leading-relaxed mb-4">
                    This OpenAPI spec defines a composite endpoint that aggregates customer data, orders, and preferences.
                </p>
                <div class="mermaid">
sequenceDiagram
    participant C as Client
    participant G as API Gateway
    participant O as Orchestration Layer
    participant S1 as Customer Service
    participant S2 as Order Service
    participant S3 as Preference Service
    C->>G: GET /v1/customer-profile/{id} (OAuth Token)
    G->>O: Forward Request
    O->>S1: GET /customers/{id}
    O->>S2: GET /orders?customerId={id}
    O->>S3: GET /preferences/{id}
    S1-->>O: Customer Data
    S2-->>O: Order Data
    S3-->>O: Preference Data
    O-->>G: Aggregated Response
    G-->>C: 200 OK {profile}
</div>
                <p class="text-gray-700 leading-relaxed mt-4">
                    This sequence diagram shows the flow of a composite API request orchestrating multiple backend services.
                </p>
            </section>

            <!-- Best Practices -->
            <section id="implementation" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800">Best Practices for Composite API Design</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Designing composite APIs requires careful consideration to ensure performance, scalability, and developer-friendliness.
                </p>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-xl shadow-lg">
                        <thead class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white">
                            <tr>
                                <th scope="col" class="px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider rounded-tl-xl">Practice</th>
                                <th scope="col" class="px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider">Description</th>
                                <th scope="col" class="px-6 py-4 text-left text-sm font-semibold uppercase tracking-wider rounded-tr-xl">Outcome</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Optimize Aggregation</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Minimize backend calls and parallelize where possible.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Reduces latency, improves performance.</td>
                            </tr>
                            <tr class="bg-gray-50 hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Use Versioning</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Incorporate /v1/ in URLs for backward compatibility.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Supports API evolution without disruptions.</td>
                            </tr>
                            <tr class="hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Secure End-to-End</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Apply OAuth 2.0 and validate inputs across services.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Ensures data integrity and security.</td>
                            </tr>
                            <tr class="bg-gray-50 hover:bg-blue-50 transition-colors duration-200">
                                <td class="px-6 py-4 text-gray-800 text-sm font-medium">Provide Clear Documentation</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Include OpenAPI specs and example responses.</td>
                                <td class="px-6 py-4 text-gray-600 text-sm">Simplifies integration, reduces errors.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <p class="text-gray-700 leading-relaxed mt-4">
                    Example: A retail enterprise designs a composite API (/v1/customer-profile) that aggregates data from multiple services, using parallel backend calls to optimize latency.
                </p>
                <h3 class="text-2xl font-semibold mb-2 text-gray-700 mt-4">Example: Error Response</h3>
                <pre><code>
{
  "error": {
    "code": "PARTIAL_FAILURE",
    "message": "Failed to retrieve order data.",
    "status": 207,
    "details": [
      {
        "service": "order-service",
        "issue": "Service unavailable."
      }
    ]
  }
}
</code></pre>
                <p class="text-gray-700 leading-relaxed mb-4">
                    This error response handles partial failures in composite APIs, aiding client-side debugging.
                </p>
            </section>

            <!-- Benefits & Conclusion -->
            <section id="conclusion" class="mb-12">
                <h2 class="text-3xl font-bold mb-4 text-gray-800">Benefits and Conclusion</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    Composite APIs deliver significant value to enterprises by enabling:
                </p>
                <ul class="list-disc pl-6 mb-4 text-gray-700 leading-relaxed space-y-2">
                    <li><strong>Improved Performance</strong>: Reduces client-side requests and network latency.</li>
                    <li><strong>Simplified Client Logic</strong>: Provides tailored, aggregated responses.</li>
                    <li><strong>Scalability</strong>: Handles complex backend orchestration efficiently.</li>
                    <li><strong>Enhanced Developer Experience</strong>: Streamlines integration with clear endpoints.</li>
                </ul>
                <p class="text-gray-700 leading-relaxed">
                    In conclusion, composite APIs are a powerful tool for enterprises seeking to optimize integrations and enhance client experiences. By adhering to principles of aggregation, client-centric design, and robust orchestration, organizations can build APIs that drive efficiency and innovation. Explore resources like the <a href="https://www.openapis.org/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">OpenAPI Initiative</a> and <a href="https://swagger.io/docs/" class="text-blue-600 hover:underline" target="_blank" rel="noopener">Swagger</a> to master composite API design.
                </p>
            </section>
        </main>

        <!-- Sticky Footer -->
        <footer class="bg-blue-900 text-white py-4">
            <div class="container mx-auto px-4 text-center">
                <p>© 2025 Mohan Chinnappan - Designing Composite APIs for Enterprises Whitepaper</p>
            </div>
        </footer>
    </div>
</body>
</html>