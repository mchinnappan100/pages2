<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <title>WebHooks Overview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true, theme: 'dark' });
  </script>
</head>

<body class="bg-slate-950 text-slate-200">
<main class="max-w-6xl mx-auto px-6 py-12">

<nav class="text-sm text-slate-400 mb-6">
  <a href="../index.html" class="hover:text-indigo-400">Home</a>
  <span class="mx-2">/</span>
  <span>WebHooks</span>
</nav>

<h1 class="text-4xl font-bold text-indigo-400 mb-6">
  WebHooks Architecture
</h1>

<p class="text-slate-400 max-w-4xl mb-12">
  WebHooks provide event-driven integration between systems by pushing
  structured HTTP payloads to subscribed endpoints.
</p>

<!-- Flow Diagram -->
<section class="mb-16">
  <h2 class="text-2xl font-semibold text-indigo-300 mb-4">
    WebHook Event Flow
  </h2>

  <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
    <pre class="mermaid">
flowchart LR
    Source[Source System<br/>GitHub / JIRA / Copado]
    Hook[Webhook Endpoint]
    Verify[Signature Validation]
    Queue[Event Queue]
    Worker[Async Processor]
    Target[Downstream Systems]

    Source -->|POST JSON| Hook
    Hook --> Verify
    Verify --> Queue
    Queue --> Worker
    Worker --> Target

    style Source fill:#020617,stroke:#38bdf8
    style Hook fill:#1e293b,stroke:#818cf8
    style Verify fill:#022c22,stroke:#34d399
    style Queue fill:#3f1d1d,stroke:#f87171
    style Worker fill:#1e293b,stroke:#60a5fa
    style Target fill:#020617,stroke:#a855f7
    </pre>
  </div>
</section>

<!-- Retry Diagram -->
<section class="mb-16">
  <h2 class="text-2xl font-semibold text-rose-400 mb-4">
    Retry & Failure Handling
  </h2>

  <div class="bg-slate-900 border border-slate-800 rounded-xl p-6">
    <pre class="mermaid">
sequenceDiagram
    participant S as Source
    participant W as Webhook
    participant Q as Queue
    participant DLQ as Dead Letter Queue

    S->>W: POST event
    W-->>S: 500 Error
    S->>W: Retry (backoff)
    W-->>S: 200 OK
    W->>Q: Enqueue event
    Q-->>DLQ: Max retries exceeded
    </pre>
  </div>
</section>

<footer class="text-slate-500 border-t border-slate-800 pt-6">
  Next: <a href="security.html" class="text-indigo-400 hover:underline">Security & Validation â†’</a>
</footer>

</main>
</body>
</html>
