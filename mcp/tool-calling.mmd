graph TD
    A[User Request] --> B(LLM);
    subgraph Model Context Window
        B --> C[Tool Definitions - All Loaded Upfront];
        E --> F[Intermediate Result - Full Data];
    end
    B --> D{TOOL CALL: function params}
    D --> G(MCP Client / Tool Orchestrator);
    G --> H[MCP Server / External System];
    H --> E[Return Full Data]
    F --> B;
    B --> I{Final Response / Next Tool Call}
    
    style C fill:#fffff,stroke:#000
    style F fill:#00f,stroke:#c00
    style B fill:#f00,stroke:#fff
    
    classDef llm fill:#f00,stroke:#007bff
    class B llm
    
    %% Annotations
    subgraph Key Issues
        J[1. Tool definitions overload context]
        K[2. Intermediate tool results flow entirely through LLM context]
    end
