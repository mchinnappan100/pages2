<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PostgreSQL MCP Server API Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
     <link rel="icon" type="image/x-icon" href="https://mohan-chinnappan-n5.github.io/dfv/img/mc_favIcon.ico">
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

  <!-- Gradient Sticky Header -->
  <header class="sticky top-0 z-50 bg-gradient-to-r from-blue-700 via-blue-500 to-blue-400 shadow flex items-center justify-between px-6 py-4">
    <h1 class="text-2xl font-bold text-white drop-shadow">üêò PostgreSQL MCP Server API</h1>
    <span class="text-blue-100 text-sm">Modern Python PostgreSQL Automation</span>
  </header>

  <!-- Main Content -->
  <main class="flex-1 container mx-auto px-4 py-8">
    <section class="mb-8">
      <h2 class="text-xl font-semibold mb-2 text-blue-600">Overview</h2>
      <p class="text-gray-700">
        This server provides tools for querying and inserting data into PostgreSQL databases via a Python MCP server.
      </p>
    </section>

         <section class="mb-8">
      <h2 class="text-lg font-semibold mb-2 text-blue-600">MCP servers config for LLM</h2>
      <div class="bg-white rounded shadow p-4 space-y-4">
        <div>
          <pre class="bg-gray-100 rounded p-2 text-sm overflow-x-auto">

"postgres": {
      "command": "/Users/mchinnappan/.local/bin/uv",
      "args": [
        "--directory",
        "/Users/mchinnappan/MCP_Dev/weather",
        "run",
        "postgres_mcp_server.py"
      ]
    }
</pre>
</div>
</div>
    </section>



    <section class="mb-8">
      <h2 class="text-lg font-semibold mb-2 text-blue-600">Sample Usage with LLM supporting MCP servers</h2>
      <div class="bg-white rounded shadow p-4 space-y-4">
        <div>
          <pre class="bg-gray-100 rounded p-2 text-sm overflow-x-auto">
 - run query on postgres with default profile and sql: select * from emp

 - run post insert for default profile
INSERT INTO emp (slno, desription) VALUES (300, 'UNIX')


</pre>
</div>
</div>
    </section>


    <section class="mb-8">
      <h2 class="text-lg font-semibold mb-2 text-blue-600">Sample Usage</h2>
      <div class="bg-white rounded shadow p-4 space-y-4">
        <div>
          <span class="font-semibold text-blue-500">Run a Query:</span>
          <pre class="bg-gray-100 rounded p-2 text-sm overflow-x-auto">pg_query(
    query="SELECT * FROM weather WHERE city = 'Chennai';",
    profile="default"
)</pre>
        </div>
        <div>
          <span class="font-semibold text-blue-500">Insert Data:</span>
          <pre class="bg-gray-100 rounded p-2 text-sm overflow-x-auto">pg_insert(
    insert_sql="INSERT INTO weather (city, temp_c) VALUES ('Chennai', 34);",
    profile="default"
)</pre>
        </div>
      </div>
    </section>

    <section class="mb-8">
      <h2 class="text-lg font-semibold mb-2 text-blue-600">Available Tools</h2>
      <div class="space-y-6">

        <!-- pg_query -->
        <div class="bg-white rounded shadow p-4">
          <h3 class="font-bold text-blue-500 mb-1">pg_query</h3>
          <p class="text-gray-700 mb-2">Run a SQL query on PostgreSQL and return results as a list of dicts.</p>
          <pre class="bg-gray-100 rounded p-2 text-sm overflow-x-auto">pg_query(query, profile="default")</pre>
          <ul class="list-disc ml-6 text-gray-600 text-sm">
            <li><b>query</b>: SQL query string</li>
            <li><b>profile</b>: Connection profile name from <code>~/.pg/connection.json</code> (default: "default")</li>
          </ul>
        </div>

        <!-- pg_insert -->
        <div class="bg-white rounded shadow p-4">
          <h3 class="font-bold text-blue-500 mb-1">pg_insert</h3>
          <p class="text-gray-700 mb-2">Run an INSERT statement on PostgreSQL.</p>
          <pre class="bg-gray-100 rounded p-2 text-sm overflow-x-auto">pg_insert(insert_sql, profile="default")</pre>
          <ul class="list-disc ml-6 text-gray-600 text-sm">
            <li><b>insert_sql</b>: Full SQL insert statement (e.g. <code>INSERT INTO t (a, b) VALUES (1, 'foo')</code>)</li>
            <li><b>profile</b>: Connection profile name from <code>~/.pg/connection.json</code> (default: "default")</li>
          </ul>
        </div>

      </div>
    </section>

    <section>
      <h2 class="text-lg font-semibold mb-2 text-blue-600">Setup Notes</h2>
      <ul class="list-disc ml-6 text-gray-700 text-sm">
        <li>Store your PostgreSQL connection profiles in <code>~/.pg/connection.json</code> as: <br>
          <code>{ "default": { "host": "localhost", "user": "postgres", "password": "postgres", "dbname": "weather" } }</code>
        </li>
        <li>Each profile can specify <code>host</code>, <code>user</code>, <code>password</code>, <code>dbname</code>, and optionally <code>port</code>.</li>
        <li>All tools require valid credentials and network access to the PostgreSQL server.</li>
      </ul>
    </section>
  </main>

  <!-- Gradient Sticky Footer -->
  <footer class="sticky bottom-0 bg-gradient-to-r from-blue-700 via-blue-500 to-blue-400 shadow-inner px-6 py-3 flex items-center justify-between">
    <span class="text-blue-100 text-xs">&copy; 2025 PostgreSQL MCP Server Docs</span>
    <a href="https://github.com/mchinnappan" class="text-blue-200 text-xs hover:underline" target="_blank">GitHub</a>
  </footer>
</body>
</html>