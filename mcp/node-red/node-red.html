<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Node-RED MCP & LLM Integration Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">

  <!-- Sticky Header -->
  <header class="sticky top-0 z-50 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-lg">
    <div class="max-w-5xl mx-auto px-4 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-bold tracking-tight">Node-RED MCP & LLM Demo Guide</h1>
      <nav class="space-x-4 text-sm font-semibold">
        <a href="#overview" class="hover:underline">Overview</a>
        <a href="#how-it-works" class="hover:underline">How It Works</a>
        <a href="#example-flow" class="hover:underline">Example Flow</a>
        <a href="#custom-node" class="hover:underline">Custom Node</a>
        <a href="#demo-video" class="hover:underline">Demo Video</a>
      </nav>
      <span class="text-sm font-semibold">2025</span>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-1 max-w-5xl mx-auto w-full px-4 py-8">
    <!-- Overview -->
    <section id="overview" class="mb-8">
      <h2 class="text-xl font-semibold mb-2 text-indigo-700">Overview</h2>
      <p class="mb-4">
        This guide demonstrates how to use <span class="font-semibold">Node-RED</span> to orchestrate <span class="font-semibold">MCP Servers</span> and <span class="font-semibold">Large Language Models (LLMs)</span> using custom nodes and flows.
      </p>
      <ul class="list-disc pl-6 space-y-1">
        <li>Trigger queries or prompts with <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">inject</span> nodes.</li>
        <li>Route messages to <span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded">MCP Server</span> or <span class="bg-pink-100 text-pink-800 px-2 py-0.5 rounded">LLM</span> nodes.</li>
        <li>Display results using <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">output</span> nodes.</li>
      </ul>
    </section>

    <!-- Flow Image -->
    <section class="mb-8">
      <img src="img/node-red-1.png" alt="Node-RED MCP/LLM Flow" class="rounded-lg border shadow mb-2 w-full max-w-2xl mx-auto">
      <p class="text-center text-gray-500 text-sm">Figure: Example Node-RED flow wiring MCP and LLM nodes</p>
    </section>

    <!-- How It Works -->
    <section id="how-it-works" class="mb-8">
      <h2 class="text-xl font-semibold mb-2 text-indigo-700">How It Works</h2>
      <ol class="list-decimal pl-6 space-y-2">
        <li>
          <span class="font-semibold">Inject Nodes:</span> Start the flow by injecting a <code>query</code> or <code>prompt</code>.<br>
          Example: <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">prompt</span>, <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">query</span>, <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">SF Query</span>
        </li>
        <li>
          <span class="font-semibold">Processing Nodes:</span>
          <ul class="list-disc pl-6">
            <li><span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded">Weather MCP Server</span> and <span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded">SF MCP Server</span> run Python scripts to interact with MCP servers.</li>
            <li><span class="bg-pink-100 text-pink-800 px-2 py-0.5 rounded">llm-query</span> sends prompts to an LLM for completion.</li>
          </ul>
        </li>
        <li>
          <span class="font-semibold">Output Nodes:</span> Results are sent to <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">Weather output</span>, <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">SF Output</span>, or <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">LLM output</span>.
        </li>
      </ol>
    </section>

    <!-- Example Flow Description -->
    <section id="example-flow" class="mb-8">
      <h2 class="text-xl font-semibold mb-2 text-indigo-700">Example Flow Description</h2>
      <ul class="list-disc pl-6 space-y-1">
        <li>
          <span class="font-semibold">Weather Query:</span>
          <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">query</span> → 
          <span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded">Weather MCP Server</span> → 
          <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">Weather output</span>
        </li>
        <li>
          <span class="font-semibold">Salesforce Query:</span>
          <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">SF Query</span> or 
          <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">start</span> → 
          <span class="bg-purple-100 text-purple-800 px-2 py-0.5 rounded">SF MCP Server</span> → 
          <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">SF Output</span>
        </li>
        <li>
          <span class="font-semibold">LLM Prompt:</span>
          <span class="bg-blue-100 text-blue-800 px-2 py-0.5 rounded">prompt</span> → 
          <span class="bg-pink-100 text-pink-800 px-2 py-0.5 rounded">llm-query</span> → 
          <span class="bg-green-100 text-green-800 px-2 py-0.5 rounded">LLM output</span>
        </li>
      </ul>
    </section>

    <!-- Custom Node Section -->
    <section id="custom-node" class="mb-8">
      <h2 class="text-xl font-semibold mb-2 text-indigo-700">Custom Node: <code>run-mcp</code></h2>
      <p class="mb-2">
        The <code>run-mcp</code> node executes a Python MCP client script with a given query and returns the result. It handles timeouts, parses responses, and formats output for Node-RED.
      </p>
      <div class="bg-gray-100 rounded p-4 mb-2">
        <div><span class="font-semibold">Inputs:</span> <code>msg.query</code> (string)</div>
        <div><span class="font-semibold">Outputs:</span> <code>msg.payload</code> (parsed response)</div>
      </div>
      <div class="bg-green-50 border-l-4 border-green-400 p-3 rounded">
        <span class="font-semibold text-green-700">Tip:</span> You can customize the MCP client path and server script path in the node configuration.
      </div>
    </section>

    <!-- Demo Video Section -->
    <section id="demo-video" class="mb-8">
      <h2 class="text-xl font-semibold mb-2 text-indigo-700">Demo Video</h2>
      <div class="aspect-w-16 aspect-h-9 mb-2">
        <iframe class="w-full h-[600px] rounded shadow" src="https://www.youtube.com/embed/L5ZPI9f3mdc" title="Node-RED MCP/LLM Demo Video" frameborder="0" allowfullscreen></iframe>
      </div>
      <p class="text-gray-500 text-sm">Watch the video above for a walkthrough of the Node-RED MCP & LLM integration.</p>
    </section>

   
  </main>

  <!-- Sticky Footer -->
  <footer class="sticky bottom-0 z-50 bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 text-white text-center py-3 shadow-lg">
    MC - Node-RED MCP/LLM Demo Guide
  </footer>
</body>
</html>
